(()=>{var t={427:(t,e,r)=>{const o=r(942);r(922),t.exports=function(){return{board:[],attacked:[],carrierHitbox:[],battleshipHitbox:[],destroyerHitbox:[],submarineHitbox:[],patrolboatHitbox:[],createBoard(t,e){let r=[],o=[0,1,2,3,4,5,6,7,8,9];o.forEach((t=>{for(let e=0;e<o.length;e++)r.push([t,o[e]])})),this.board=r;for(let e of this.board){let r=document.createElement("div");r.classList.add("rightCells"),r.setAttribute("id",`${[e[0],e[1]]}`),t.appendChild(r)}return r},placeShip(t,e){if(e[1]+t.length>10)return;const r=`${t.name}Hitbox`;for(let o=0;o<t.length;o++){const t=e[0],i=e[1]+o;this[r].push([t,i])}return this[r]},receiveAttack(t,e){this.attacked.push(t);const r=[this.carrierHitbox,this.battleshipHitbox,this.destroyerHitbox,this.submarineHitbox,this.patrolboatHitbox];for(let e of r){for(let i of e){if(console.log(i),i[0]==t[0]&&i[1]==t[1])return o(t,"red"),r.indexOf(e);o(t,"white")}break}return e[0].isSunk()&&e[1].isSunk()&&e[2].isSunk()&&e[3].isSunk()&&e[4].isSunk()?"game over":t},cpuEventListener(){document.querySelectorAll(".rightCells").forEach((t=>{t.addEventListener("click",(()=>{console.log(t.id)}))}))}}}},942:t=>{t.exports=function(t,e){document.getElementById(`${t[0]},${t[1]}`).style.backgroundColor=e}},431:t=>{t.exports=function(){}},922:t=>{t.exports=function(t,e,r){return{length:t,name:e,hit:r,gotHit(){if(t>r)return console.log("test"),this.hit+=1,this.hit},isSunk(){return this.length<=this.hit}}}}},e={};function r(o){var i=e[o];if(void 0!==i)return i.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,r),n.exports}(()=>{const t=r(922),e=r(427);r(942),r(431),function(){console.log("pppp");let r=document.querySelector(".leftGrid");const o=t(5,"carrier",0),i=t(4,"battleship",0),n=t(3,"destroyer",0),a=t(3,"submarine",0),s=t(2,"patrolboat",0),c=e();c.createBoard(r),c.placeShip(o,[5,4]),c.placeShip(i,[2,6]),c.placeShip(n,[1,5]),c.placeShip(a,[4,4]),c.placeShip(s,[6,4]);const l=[o,i,n,a,s];Math.floor(9*Math.random()),Math.floor(9*Math.random()),l[c.receiveAttack([5,4],l)].gotHit()}(),function(){const r=document.querySelector(".rightGrid"),o=t(5,"carrier"),i=t(4,"battleship"),n=t(3,"destroyer"),a=t(3,"submarine"),s=t(2,"patrolboat"),c=e();c.createBoard(r),c.placeShip(o,[5,4]),c.placeShip(i,[2,6]),c.placeShip(n,[1,5]),c.placeShip(a,[4,4]),c.placeShip(s,[5,4]),c.cpuEventListener()}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiMkJBQUEsTUFBTUEsRUFBWSxFQUFRLEtBQ04sRUFBUSxLQWdGNUJDLEVBQU9DLFFBL0VQLFdBQ0ksTUFBTyxDQUNIQyxNQUFPLEdBQ1BDLFNBQVUsR0FDVkMsY0FBZSxHQUNmQyxpQkFBa0IsR0FDbEJDLGdCQUFpQixHQUNqQkMsZ0JBQWlCLEdBQ2pCQyxpQkFBa0IsR0FFbEJDLFlBQVlDLEVBQVVDLEdBQ2xCLElBQUlDLEVBQVMsR0FDVEMsRUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9CQSxFQUFNQyxTQUFRQyxJQUNWLElBQUksSUFBSUMsRUFBSSxFQUFHQSxFQUFJSCxFQUFNSSxPQUFRRCxJQUFLSixFQUFPTSxLQUFLLENBQUNILEVBQUlGLEVBQU1HLElBQUksSUFFckVHLEtBQUtqQixNQUFRVSxFQUViLElBQUssSUFBSVEsS0FBS0QsS0FBS2pCLE1BQU8sQ0FDdEIsSUFBSW1CLEVBQU9DLFNBQVNDLGNBQWMsT0FDbENGLEVBQUtHLFVBQVVDLElBQUksY0FDbkJKLEVBQUtLLGFBQWEsS0FBTSxHQUFHLENBQUNOLEVBQUUsR0FBSUEsRUFBRSxPQUVwQ1YsRUFBU2lCLFlBQVlOLEVBQ3pCLENBQ0EsT0FBT1QsQ0FDWCxFQUNBZ0IsVUFBVUMsRUFBTUMsR0FDWixHQUFJQSxFQUFNLEdBQUtELEVBQUtaLE9BQVMsR0FDekIsT0FFSixNQUFNYyxFQUFZLEdBQUdGLEVBQUtHLGFBQzFCLElBQUssSUFBSWhCLEVBQUksRUFBR0EsRUFBSWEsRUFBS1osT0FBUUQsSUFBSyxDQUNsQyxNQUFNaUIsRUFBSUgsRUFBTSxHQUNWSSxFQUFJSixFQUFNLEdBQUtkLEVBQ3JCRyxLQUFLWSxHQUFXYixLQUFLLENBQUNlLEVBQUdDLEdBRTdCLENBQ0EsT0FBT2YsS0FBS1ksRUFDaEIsRUFDQUksY0FBY0wsRUFBT00sR0FDakJqQixLQUFLaEIsU0FBU2UsS0FBS1ksR0FDbkIsTUFBTU8sRUFBZSxDQUFDbEIsS0FBS2YsY0FBZWUsS0FBS2QsaUJBQWtCYyxLQUFLYixnQkFDdEVhLEtBQUtaLGdCQUFpQlksS0FBS1gsa0JBQzNCLElBQUksSUFBSXFCLEtBQVFRLEVBQWEsQ0FDekIsSUFBSSxJQUFJQyxLQUFZVCxFQUFLLENBRXJCLEdBREFVLFFBQVFDLElBQUlGLEdBQ1RBLEVBQVMsSUFBTVIsRUFBTSxJQUFNUSxFQUFTLElBQU1SLEVBQU0sR0FJL0MsT0FEQS9CLEVBQVUrQixFQURFLE9BRUxPLEVBQWFJLFFBQVFaLEdBSzVCOUIsRUFBVStCLEVBREUsUUFHcEIsQ0FDQSxLQUNKLENBQ0EsT0FBSU0sRUFBTSxHQUFHTSxVQUFZTixFQUFNLEdBQUdNLFVBQVlOLEVBQU0sR0FBR00sVUFBWU4sRUFBTSxHQUFHTSxVQUFZTixFQUFNLEdBQUdNLFNBQ3hGLFlBRUZaLENBRVgsRUFDQWEsbUJBQ3FCckIsU0FBU3NCLGlCQUFpQixlQUNoQzlCLFNBQVFNLElBQ2ZBLEVBQUV5QixpQkFBaUIsU0FBUyxLQUN4Qk4sUUFBUUMsSUFBSXBCLEVBQUUwQixHQUFFLEdBQ25CLEdBRVQsRUFHUixDLFVDM0VBOUMsRUFBT0MsUUFKUCxTQUFtQjZCLEVBQU9pQixHQUNYekIsU0FBUzBCLGVBQWUsR0FBR2xCLEVBQU0sTUFBTUEsRUFBTSxNQUNuRG1CLE1BQU1DLGdCQUFrQkgsQ0FDakMsQyxVQzJCQS9DLEVBQU9DLFFBOUJQLFdBRUEsQyxVQ2dCQUQsRUFBT0MsUUFsQlAsU0FBcUJnQixFQUFRZSxFQUFNbUIsR0FDL0IsTUFBTSxDQUNGbEMsU0FDQWUsT0FDQW1CLE1BQ0FDLFNBQ0ksR0FBR25DLEVBQVNrQyxFQUdSLE9BRkFaLFFBQVFDLElBQUksUUFDWnJCLEtBQUtnQyxLQUFPLEVBQ0xoQyxLQUFLZ0MsR0FFcEIsRUFDQVQsU0FDSSxPQUFPdkIsS0FBS0YsUUFBVUUsS0FBS2dDLEdBQy9CLEVBRVIsQyxHQ2ZJRSxFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWF2RCxRQUdyQixJQUFJRCxFQUFTcUQsRUFBeUJFLEdBQVksQ0FHakR0RCxRQUFTLENBQUMsR0FPWCxPQUhBeUQsRUFBb0JILEdBQVV2RCxFQUFRQSxFQUFPQyxRQUFTcUQsR0FHL0N0RCxFQUFPQyxPQUNmLEMsTUN0QkEsTUFBTTBELEVBQWMsRUFBUSxLQUN0QkMsRUFBWSxFQUFRLEtBR1IsRUFBUSxLQUNYLEVBQVEsS0FVdkIsV0FDSXJCLFFBQVFDLElBQUksUUFDWixJQUNJOUIsRUFBV1ksU0FBU3VDLGNBQWMsYUFFdEMsTUFBTUMsRUFBVUgsRUFBWSxFQUFHLFVBQVcsR0FDcENJLEVBQWFKLEVBQVksRUFBRyxhQUFjLEdBQzFDSyxFQUFZTCxFQUFZLEVBQUcsWUFBYSxHQUN4Q00sRUFBWU4sRUFBWSxFQUFHLFlBQWEsR0FDeENPLEVBQWFQLEVBQVksRUFBRyxhQUFjLEdBQzFDUSxFQUFrQlAsSUFDeEJPLEVBQWdCMUQsWUFBWUMsR0FDNUJ5RCxFQUFnQnZDLFVBQVVrQyxFQUFTLENBQUMsRUFBRSxJQUN0Q0ssRUFBZ0J2QyxVQUFVbUMsRUFBWSxDQUFDLEVBQUUsSUFDekNJLEVBQWdCdkMsVUFBVW9DLEVBQVcsQ0FBQyxFQUFFLElBQ3hDRyxFQUFnQnZDLFVBQVVxQyxFQUFXLENBQUMsRUFBRSxJQUN4Q0UsRUFBZ0J2QyxVQUFVc0MsRUFBWSxDQUFDLEVBQUUsSUFDekMsTUFBTTlCLEVBQVEsQ0FBQzBCLEVBQVNDLEVBQVlDLEVBQVdDLEVBQVdDLEdBRXBDRSxLQUFLQyxNQUFzQixFQUFoQkQsS0FBS0UsVUFBY0YsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUtFLFVBRXBFbEMsRUFEb0IrQixFQUFnQmhDLGNBbEJwQixDQUFDLEVBQUUsR0FrQjBDQyxJQUN4Q2dCLFFBR3pCLENBOUJJbUIsR0ErQkosV0FDSSxNQUFNN0QsRUFBV1ksU0FBU3VDLGNBQWMsY0FFbENDLEVBQVVILEVBQVksRUFBRyxXQUN6QkksRUFBYUosRUFBWSxFQUFHLGNBQzVCSyxFQUFZTCxFQUFZLEVBQUcsYUFDM0JNLEVBQVlOLEVBQVksRUFBRyxhQUMzQk8sRUFBYVAsRUFBWSxFQUFHLGNBQzVCYSxFQUFlWixJQUNyQlksRUFBYS9ELFlBQVlDLEdBQ3pCOEQsRUFBYTVDLFVBQVVrQyxFQUFTLENBQUMsRUFBRSxJQUNuQ1UsRUFBYTVDLFVBQVVtQyxFQUFZLENBQUMsRUFBRSxJQUN0Q1MsRUFBYTVDLFVBQVVvQyxFQUFXLENBQUMsRUFBRSxJQUNyQ1EsRUFBYTVDLFVBQVVxQyxFQUFXLENBQUMsRUFBRSxJQUNyQ08sRUFBYTVDLFVBQVVzQyxFQUFZLENBQUMsRUFBRSxJQUN0Q00sRUFBYTdCLGtCQUdqQixDQWhESThCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2xlZnRET00uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9yaWdodERPTS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NoaXBGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwbGF5ZXJET00gPSByZXF1aXJlKCcuL2xlZnRET00nKVxuY29uc3Qgc2hpcEZhY3RvcnkgPSByZXF1aXJlKCcuL3NoaXBGYWN0b3J5JylcbmZ1bmN0aW9uIGdhbWVCb2FyZCgpe1xuICAgIHJldHVybiB7XG4gICAgICAgIGJvYXJkOiBbXSxcbiAgICAgICAgYXR0YWNrZWQ6IFtdLFxuICAgICAgICBjYXJyaWVySGl0Ym94OiBbXSxcbiAgICAgICAgYmF0dGxlc2hpcEhpdGJveDogW10sXG4gICAgICAgIGRlc3Ryb3llckhpdGJveDogW10sXG4gICAgICAgIHN1Ym1hcmluZUhpdGJveDogW10sXG4gICAgICAgIHBhdHJvbGJvYXRIaXRib3g6IFtdLFxuXG4gICAgICAgIGNyZWF0ZUJvYXJkKGRvbUJvYXJkLCBwbGF5ZXJOYW1lKXtcbiAgICAgICAgICAgIGxldCBjb29yZHMgPSBbXTtcbiAgICAgICAgICAgIGxldCB4QXhpcyA9IFswLDEsMiwzLDQsNSw2LDcsOCw5XVxuICAgICAgICAgICAgeEF4aXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHhBeGlzLmxlbmd0aDsgaSsrKSBjb29yZHMucHVzaChbZWwsIHhBeGlzW2ldXSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5ib2FyZCA9IGNvb3Jkc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGxldCBlIG9mIHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgncmlnaHRDZWxscycpO1xuICAgICAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdpZCcsIGAke1tlWzBdLCBlWzFdXX1gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkb21Cb2FyZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb29yZHM7XG4gICAgICAgIH0sXG4gICAgICAgIHBsYWNlU2hpcChzaGlwLCBjb29yZCkge1xuICAgICAgICAgICAgaWYgKGNvb3JkWzFdICsgc2hpcC5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhpdGJveEtleSA9IGAke3NoaXAubmFtZX1IaXRib3hgO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGNvb3JkWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBjb29yZFsxXSArIGk7XG4gICAgICAgICAgICAgICAgdGhpc1toaXRib3hLZXldLnB1c2goW3gsIHldKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzW2hpdGJveEtleV07XG4gICAgICAgIH0sXG4gICAgICAgIHJlY2VpdmVBdHRhY2soY29vcmQsIHNoaXBzKSB7XG4gICAgICAgICAgICB0aGlzLmF0dGFja2VkLnB1c2goY29vcmQpO1xuICAgICAgICAgICAgY29uc3Qgc2hpcEhpdGJveGVzID0gW3RoaXMuY2FycmllckhpdGJveCwgdGhpcy5iYXR0bGVzaGlwSGl0Ym94LCB0aGlzLmRlc3Ryb3llckhpdGJveCxcbiAgICAgICAgICAgIHRoaXMuc3VibWFyaW5lSGl0Ym94LCB0aGlzLnBhdHJvbGJvYXRIaXRib3hdXG4gICAgICAgICAgICBmb3IobGV0IHNoaXAgb2Ygc2hpcEhpdGJveGVzKXtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGhpdGJveGVzIG9mIHNoaXApe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhoaXRib3hlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGhpdGJveGVzWzBdID09IGNvb3JkWzBdICYmIGhpdGJveGVzWzFdID09IGNvb3JkWzFdKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gJ3JlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckRPTShjb29yZCwgY29sb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hpcEhpdGJveGVzLmluZGV4T2Yoc2hpcClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSAnd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJET00oY29vcmQsIGNvbG9yKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNoaXBzWzBdLmlzU3VuaygpICYmIHNoaXBzWzFdLmlzU3VuaygpICYmIHNoaXBzWzJdLmlzU3VuaygpICYmIHNoaXBzWzNdLmlzU3VuaygpICYmIHNoaXBzWzRdLmlzU3VuaygpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnZ2FtZSBvdmVyJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb29yZFxuICAgICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGNwdUV2ZW50TGlzdGVuZXIoKXtcbiAgICAgICAgICAgIGxldCByaWdodENlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJpZ2h0Q2VsbHMnKTtcbiAgICAgICAgICAgIHJpZ2h0Q2VsbHMuZm9yRWFjaChlID0+e1xuICAgICAgICAgICAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLmlkKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnYW1lQm9hcmRcblxuXG5cblxuLyogcmVmYWN0b3JlZCBibG9ja3M6OjpcbnBsYWNlU2hpcChzaGlwLCBjb29yZCl7XG4gICAgaWYoY29vcmRbMV0gKyBzaGlwLmxlbmd0aCA8PSAxMCl7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGlmKGkgPT0gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5vY2N1cGllZC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV1dKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2hpcC5uYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2Fycmllcic6IHRoaXMuY2FycmllckhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV1dKVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdiYXR0bGVzaGlwJzogdGhpcy5iYXR0bGVzaGlwSGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rlc3Ryb3llcic6IHRoaXMuZGVzdHJveWVySGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N1Ym1hcmluZSc6IHRoaXMuc3VibWFyaW5lSGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhdHJvbGJvYXQnOiB0aGlzLnBhdHJvbGJvYXRIaXRib3gucHVzaChbY29vcmRbMF0sIGNvb3JkWzFdXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub2NjdXBpZWQucHVzaChbY29vcmRbMF0sIGNvb3JkWzFdK2ldKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2hpcC5uYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2Fycmllcic6IHRoaXMuY2FycmllckhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV0raV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JhdHRsZXNoaXAnOiB0aGlzLmJhdHRsZXNoaXBIaXRib3gucHVzaChbY29vcmRbMF0sIGNvb3JkWzFdK2ldKVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZXN0cm95ZXInOiB0aGlzLmRlc3Ryb3llckhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV0raV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N1Ym1hcmluZSc6IHRoaXMuc3VibWFyaW5lSGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXStpXSlcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGF0cm9sYm9hdCc6IHRoaXMucGF0cm9sYm9hdEhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV0raV0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vY2N1cGllZDtcbn1cblxucmVjZWl2ZUF0dGFjayhjb29yZCl7XG4gICAgdGhpcy5hdHRhY2tlZC5wdXNoKGNvb3JkKTtcbiAgICBpZih0aGlzLmNhcnJpZXJIaXRib3guaW5jbHVkZXMoY29vcmQpKSBjYXJyaWVyLmdvdEhpdCgpO1xuICAgIGlmKHRoaXMuYmF0dGxlc2hpcEhpdGJveC5pbmNsdWRlcyhjb29yZCkpIGJhdHRsZXNoaXAuZ290SGl0KCk7XG4gICAgaWYodGhpcy5kZXN0cm95ZXJIaXRib3guaW5jbHVkZXMoY29vcmQpKSBkZXN0cm95ZXIuZ290SGl0KCk7XG4gICAgaWYodGhpcy5zdWJtYXJpbmVIaXRib3guaW5jbHVkZXMoY29vcmQpKSBzdWJtYXJpbmUuZ290SGl0KCk7XG4gICAgaWYodGhpcy5wYXRyb2xib2F0SGl0Ym94LmluY2x1ZGVzKGNvb3JkKSkgcGF0cm9sYm9hdC5nb3RIaXQoKTtcblxuICAgIGlmKGNhcnJpZXIuaXNTdW5rKCkgJiYgYmF0dGxlc2hpcC5pc1N1bmsoKSAmJiBkZXN0cm95ZXIuaXNTdW5rKCkgJiYgc3VibWFyaW5lLmlzU3VuaygpICYmIHBhdHJvbGJvYXQuaXNTdW5rKCkpe1xuICAgICAgICByZXR1cm4gJ2dhbWUgb3ZlcidcbiAgICB9XG5cblxufVxuKi8iLCJmdW5jdGlvbiBwbGF5ZXJET00oY29vcmQsIGNvbG9yKXtcbiAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2Nvb3JkWzBdfSwke2Nvb3JkWzFdfWApO1xuICAgIGNlbGwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3Jcbn1cbm1vZHVsZS5leHBvcnRzID0gcGxheWVyRE9NXG4iLCJmdW5jdGlvbiBjcHVET00oKSB7XG4gICAgXG59XG4gIFxuXG4vKlxuZnVuY3Rpb24gY3B1RE9NKGdhbWVCb2FyZCwgc2hpcHNBcnJheSwgb3ZlcmFsbEhpdGJveCl7XG4gICAgbGV0IGRvbUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0R3JpZCcpXG4gICAgZ2FtZUJvYXJkLmZvckVhY2goZSA9PntcbiAgICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0Q2VsbHMnKVxuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtbZVswXSwgZVsxXV19YClcbiAgICAgICAgZG9tQm9hcmQuYXBwZW5kQ2hpbGQoY2VsbClcbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvdmVyYWxsSGl0Ym94KVxuICAgICAgICAgICAgb3ZlcmFsbEhpdGJveC5mb3JFYWNoKGUgPT57XG4gICAgICAgICAgICAgICAgaWYoY2VsbC5pZCA9PSBgJHtlWzBdfSwke2VbMV19YCl7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUub3BhY2l0eSA9ICcwLjYnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9KVxuICAgIFxufVxuKi9cblxubW9kdWxlLmV4cG9ydHMgPSBjcHVET00iLCJmdW5jdGlvbiBzaGlwRmFjdG9yeShsZW5ndGgsIG5hbWUsIGhpdCl7XG4gICAgcmV0dXJue1xuICAgICAgICBsZW5ndGgsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGhpdCxcbiAgICAgICAgZ290SGl0KCl7XG4gICAgICAgICAgICBpZihsZW5ndGggPiBoaXQpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0JylcbiAgICAgICAgICAgICAgICB0aGlzLmhpdCArPSAxXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGl0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc1N1bmsoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA8PSB0aGlzLmhpdDtcbiAgICAgICAgfVxuICAgIH0gICBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGlwRmFjdG9yeVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImNvbnN0IHNoaXBGYWN0b3J5ID0gcmVxdWlyZSgnLi9zaGlwRmFjdG9yeScpXG5jb25zdCBnYW1lQm9hcmQgPSByZXF1aXJlKCcuL2dhbWVCb2FyZCcpXG4vL2NvbnN0IHBsYXllciA9IHJlcXVpcmUoJy4vcGxheWVyJylcbi8vY29uc3QgY3B1ID0gcmVxdWlyZSgnLi9wbGF5ZXInKVxuY29uc3QgcGxheWVyRE9NID0gcmVxdWlyZSgnLi9sZWZ0RE9NJylcbmNvbnN0IGNwdURPTSA9IHJlcXVpcmUoJy4vcmlnaHRET00uanMnKVxuXG5cbmZ1bmN0aW9uIGdhbWVMb29wKCl7XG4gICAgcGxheWVyKClcbiAgICBjcHUoKVxuXG59XG5nYW1lTG9vcCgpXG5cbmZ1bmN0aW9uIHBsYXllcigpe1xuICAgIGNvbnNvbGUubG9nKCdwcHBwJyk7XG4gICAgbGV0IHRlc3RDb29yZCA9IFs1LDRdXG4gICAgbGV0IGRvbUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlZnRHcmlkJylcbiAgICBsZXQgcGxheWVyTmFtZSA9ICdQbGF5ZXInXG4gICAgY29uc3QgY2FycmllciA9IHNoaXBGYWN0b3J5KDUsICdjYXJyaWVyJywgMClcbiAgICBjb25zdCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCwgJ2JhdHRsZXNoaXAnLCAwKVxuICAgIGNvbnN0IGRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KDMsICdkZXN0cm95ZXInLCAwKVxuICAgIGNvbnN0IHN1Ym1hcmluZSA9IHNoaXBGYWN0b3J5KDMsICdzdWJtYXJpbmUnLCAwKVxuICAgIGNvbnN0IHBhdHJvbGJvYXQgPSBzaGlwRmFjdG9yeSgyLCAncGF0cm9sYm9hdCcsIDApXG4gICAgY29uc3QgcGxheWVyR2FtZUJvYXJkID0gZ2FtZUJvYXJkKClcbiAgICBwbGF5ZXJHYW1lQm9hcmQuY3JlYXRlQm9hcmQoZG9tQm9hcmQpXG4gICAgcGxheWVyR2FtZUJvYXJkLnBsYWNlU2hpcChjYXJyaWVyLCBbNSw0XSlcbiAgICBwbGF5ZXJHYW1lQm9hcmQucGxhY2VTaGlwKGJhdHRsZXNoaXAsIFsyLDZdKVxuICAgIHBsYXllckdhbWVCb2FyZC5wbGFjZVNoaXAoZGVzdHJveWVyLCBbMSw1XSlcbiAgICBwbGF5ZXJHYW1lQm9hcmQucGxhY2VTaGlwKHN1Ym1hcmluZSwgWzQsNF0pXG4gICAgcGxheWVyR2FtZUJvYXJkLnBsYWNlU2hpcChwYXRyb2xib2F0LCBbNiw0XSlcbiAgICBjb25zdCBzaGlwcyA9IFtjYXJyaWVyLCBiYXR0bGVzaGlwLCBkZXN0cm95ZXIsIHN1Ym1hcmluZSwgcGF0cm9sYm9hdF07XG4gICAgY29uc3Qgc2hpcEhpdGJveCA9IFtdXG4gICAgbGV0IGNwdUF0dGFja0Nvb3JkID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkpLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkpXVxuICAgIGxldCBhdHRhY2tlZENvb3JkID0gcGxheWVyR2FtZUJvYXJkLnJlY2VpdmVBdHRhY2sodGVzdENvb3JkLCBzaGlwcylcbiAgICBzaGlwc1thdHRhY2tlZENvb3JkXS5nb3RIaXQoKVxuICAgIFxuXG59XG5mdW5jdGlvbiBjcHUoKXtcbiAgICBjb25zdCBkb21Cb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodEdyaWQnKVxuICAgIGxldCBwbGF5ZXJOYW1lID0gJ0NQVSdcbiAgICBjb25zdCBjYXJyaWVyID0gc2hpcEZhY3RvcnkoNSwgJ2NhcnJpZXInKVxuICAgIGNvbnN0IGJhdHRsZXNoaXAgPSBzaGlwRmFjdG9yeSg0LCAnYmF0dGxlc2hpcCcpXG4gICAgY29uc3QgZGVzdHJveWVyID0gc2hpcEZhY3RvcnkoMywgJ2Rlc3Ryb3llcicpXG4gICAgY29uc3Qgc3VibWFyaW5lID0gc2hpcEZhY3RvcnkoMywgJ3N1Ym1hcmluZScpXG4gICAgY29uc3QgcGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KDIsICdwYXRyb2xib2F0JylcbiAgICBjb25zdCBjcHVHYW1lQm9hcmQgPSBnYW1lQm9hcmQoKVxuICAgIGNwdUdhbWVCb2FyZC5jcmVhdGVCb2FyZChkb21Cb2FyZClcbiAgICBjcHVHYW1lQm9hcmQucGxhY2VTaGlwKGNhcnJpZXIsIFs1LDRdKVxuICAgIGNwdUdhbWVCb2FyZC5wbGFjZVNoaXAoYmF0dGxlc2hpcCwgWzIsNl0pXG4gICAgY3B1R2FtZUJvYXJkLnBsYWNlU2hpcChkZXN0cm95ZXIsIFsxLDVdKVxuICAgIGNwdUdhbWVCb2FyZC5wbGFjZVNoaXAoc3VibWFyaW5lLCBbNCw0XSlcbiAgICBjcHVHYW1lQm9hcmQucGxhY2VTaGlwKHBhdHJvbGJvYXQsIFs1LDRdKVxuICAgIGNwdUdhbWVCb2FyZC5jcHVFdmVudExpc3RlbmVyKClcbiAgIFxuXG59XG4iXSwibmFtZXMiOlsicGxheWVyRE9NIiwibW9kdWxlIiwiZXhwb3J0cyIsImJvYXJkIiwiYXR0YWNrZWQiLCJjYXJyaWVySGl0Ym94IiwiYmF0dGxlc2hpcEhpdGJveCIsImRlc3Ryb3llckhpdGJveCIsInN1Ym1hcmluZUhpdGJveCIsInBhdHJvbGJvYXRIaXRib3giLCJjcmVhdGVCb2FyZCIsImRvbUJvYXJkIiwicGxheWVyTmFtZSIsImNvb3JkcyIsInhBeGlzIiwiZm9yRWFjaCIsImVsIiwiaSIsImxlbmd0aCIsInB1c2giLCJ0aGlzIiwiZSIsImNlbGwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInBsYWNlU2hpcCIsInNoaXAiLCJjb29yZCIsImhpdGJveEtleSIsIm5hbWUiLCJ4IiwieSIsInJlY2VpdmVBdHRhY2siLCJzaGlwcyIsInNoaXBIaXRib3hlcyIsImhpdGJveGVzIiwiY29uc29sZSIsImxvZyIsImluZGV4T2YiLCJpc1N1bmsiLCJjcHVFdmVudExpc3RlbmVyIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpZCIsImNvbG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImhpdCIsImdvdEhpdCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJzaGlwRmFjdG9yeSIsImdhbWVCb2FyZCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJyaWVyIiwiYmF0dGxlc2hpcCIsImRlc3Ryb3llciIsInN1Ym1hcmluZSIsInBhdHJvbGJvYXQiLCJwbGF5ZXJHYW1lQm9hcmQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwbGF5ZXIiLCJjcHVHYW1lQm9hcmQiLCJjcHUiXSwic291cmNlUm9vdCI6IiJ9