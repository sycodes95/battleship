(()=>{var t={427:t=>{t.exports=function(){return{board:[],attacked:[],overallHitbox:[],carrierHitbox:[],battleshipHitbox:[],destroyerHitbox:[],submarineHitbox:[],patrolboatHitbox:[],createBoard(){let t=[],e=[0,1,2,3,4,5,6,7,8,9];return e.forEach((r=>{for(let i=0;i<e.length;i++)t.push([r,e[i]])})),this.board=t,t},placeShip(t,e){if(e[1]+t.length>10)return;const r=`${t.name}Hitbox`;for(let i=0;i<t.length;i++){const t=e[0],o=e[1]+i;this[r].push([t,o]),this.overallHitbox.push([t,o])}return this[r]},receiveAttack(t){this.attacked.push(t);const e=[this.carrierHitbox,this.battleshipHitbox,this.destroyerHitbox,this.submarineHitbox,this.patrolboatHitbox],r=[carrier,battleship,destroyer,submarine,patrolboat];for(let i=0;i<e.length;i++)e[i].includes(t)&&r[i].gotHit();if(carrier.isSunk()&&battleship.isSunk()&&destroyer.isSunk()&&submarine.isSunk()&&patrolboat.isSunk())return"game over"}}}},942:t=>{t.exports=function(t){let e=document.querySelector(".leftGrid");t.forEach((t=>{let r=document.createElement("div");r.classList.add("leftCells"),r.setAttribute("id",`${[t[0],t[1]]}`),e.appendChild(r)}))}},785:t=>{t.exports=function(t,e,r){let i=document.querySelector(".rightGrid");for(let e of t){let t=document.createElement("div");t.classList.add("rightCells"),t.setAttribute("id",`${[e[0],e[1]]}`),i.appendChild(t),t.addEventListener("click",(()=>{console.log(r);for(let e of r){if(t.id==`${e[0]},${e[1]}`){t.style.backgroundColor="red",t.style.opacity="0.6";break}t.id!==`${e[0]},${e[1]}`&&(t.style.backgroundColor="white",t.style.opacity="0.1")}}))}}},922:t=>{t.exports=function(t,e,r,i){return{length:t,name:e,hit:r,sunk:i,gotHit(){if(t>r)return this.hit+=1,this.hit},isSunk(){return this.length<=this.hit}}}}},e={};function r(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,r),a.exports}(()=>{const t=r(922),e=r(427),i=r(942),o=r(785);!function(){const r=t(5,"carrier"),o=t(4,"battleship"),a=t(3,"destroyer"),s=t(3,"submarine"),l=t(2,"patrolboat"),n=e();n.createBoard(),n.placeShip(r,[5,4]),n.placeShip(o,[2,6]),n.placeShip(a,[1,5]),n.placeShip(s,[4,4]),n.placeShip(l,[5,4]),i(n.board)}(),function(){const r=t(5,"carrier"),i=t(4,"battleship"),a=t(3,"destroyer"),s=t(3,"submarine"),l=t(2,"patrolboat"),n=e();n.createBoard(),n.placeShip(r,[5,4]),n.placeShip(i,[2,6]),n.placeShip(a,[1,5]),n.placeShip(s,[4,4]),n.placeShip(l,[5,4]);const c=[n.carrierHitbox,n.battleshipHitbox,n.destroyerHitbox,n.submarineHitbox,n.patrolboatHitbox];o(n.board,c,n.overallHitbox)}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WSxFQUFHLGFBQzNCaEMsRUFBWWdDLEVBQVksRUFBRyxhQUMzQi9CLEVBQWErQixFQUFZLEVBQUcsY0FDNUJLLEVBQWVoQyxJQUNyQmdDLEVBQWEzRCxjQUNiMkQsRUFBYWxELFVBQVVVLEVBQVMsQ0FBQyxFQUFFLElBQ25Dd0MsRUFBYWxELFVBQVVXLEVBQVksQ0FBQyxFQUFFLElBQ3RDdUMsRUFBYWxELFVBQVVZLEVBQVcsQ0FBQyxFQUFFLElBQ3JDc0MsRUFBYWxELFVBQVVhLEVBQVcsQ0FBQyxFQUFFLElBQ3JDcUMsRUFBYWxELFVBQVVjLEVBQVksQ0FBQyxFQUFFLElBQ3RDLE1BQU1lLEVBQWEsQ0FBQ3FCLEVBQWFoRSxjQUFlZ0UsRUFBYS9ELGlCQUM3RCtELEVBQWE5RCxnQkFBaUI4RCxFQUFhN0QsZ0JBQWlCNkQsRUFBYTVELGtCQUN6RXlELEVBQU9HLEVBQWFuRSxNQUFPOEMsRUFBWXFCLEVBQWFqRSxjQUV4RCxDQTFDSWtFLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2xlZnRET00uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9yaWdodERPTSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NoaXBGYWN0b3J5LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnYW1lQm9hcmQoKXtcbiAgICByZXR1cm4ge1xuICAgICAgICBib2FyZDogW10sXG4gICAgICAgIGF0dGFja2VkOiBbXSxcbiAgICAgICAgb3ZlcmFsbEhpdGJveDogW10sXG4gICAgICAgIGNhcnJpZXJIaXRib3g6IFtdLFxuICAgICAgICBiYXR0bGVzaGlwSGl0Ym94OiBbXSxcbiAgICAgICAgZGVzdHJveWVySGl0Ym94OiBbXSxcbiAgICAgICAgc3VibWFyaW5lSGl0Ym94OiBbXSxcbiAgICAgICAgcGF0cm9sYm9hdEhpdGJveDogW10sXG5cbiAgICAgICAgY3JlYXRlQm9hcmQoKXtcbiAgICAgICAgICAgIGxldCBjb29yZHMgPSBbXTtcbiAgICAgICAgICAgIGxldCB4QXhpcyA9IFswLDEsMiwzLDQsNSw2LDcsOCw5XVxuICAgICAgICAgICAgeEF4aXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHhBeGlzLmxlbmd0aDsgaSsrKSBjb29yZHMucHVzaChbZWwsIHhBeGlzW2ldXSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5ib2FyZCA9IGNvb3Jkc1xuICAgICAgICAgICAgcmV0dXJuIGNvb3JkcztcbiAgICAgICAgfSxcbiAgICAgICAgcGxhY2VTaGlwKHNoaXAsIGNvb3JkKSB7XG4gICAgICAgICAgICBpZiAoY29vcmRbMV0gKyBzaGlwLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGl0Ym94S2V5ID0gYCR7c2hpcC5uYW1lfUhpdGJveGA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gY29vcmRbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGNvb3JkWzFdICsgaTtcbiAgICAgICAgICAgICAgICB0aGlzW2hpdGJveEtleV0ucHVzaChbeCwgeV0pO1xuICAgICAgICAgICAgICAgIHRoaXMub3ZlcmFsbEhpdGJveC5wdXNoKFt4LCB5XSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzW2hpdGJveEtleV07XG4gICAgICAgIH0sXG4gICAgICAgIHJlY2VpdmVBdHRhY2soY29vcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrZWQucHVzaChjb29yZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoaXRib3hlcyA9IFtcbiAgICAgICAgICAgICAgdGhpcy5jYXJyaWVySGl0Ym94LFxuICAgICAgICAgICAgICB0aGlzLmJhdHRsZXNoaXBIaXRib3gsXG4gICAgICAgICAgICAgIHRoaXMuZGVzdHJveWVySGl0Ym94LFxuICAgICAgICAgICAgICB0aGlzLnN1Ym1hcmluZUhpdGJveCxcbiAgICAgICAgICAgICAgdGhpcy5wYXRyb2xib2F0SGl0Ym94XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3Qgc2hpcHMgPSBbY2FycmllciwgYmF0dGxlc2hpcCwgZGVzdHJveWVyLCBzdWJtYXJpbmUsIHBhdHJvbGJvYXRdO1xuICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoaXRib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoaGl0Ym94ZXNbaV0uaW5jbHVkZXMoY29vcmQpKSB7XG4gICAgICAgICAgICAgICAgc2hpcHNbaV0uZ290SGl0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjYXJyaWVyLmlzU3VuaygpICYmIGJhdHRsZXNoaXAuaXNTdW5rKCkgJiYgZGVzdHJveWVyLmlzU3VuaygpICYmIHN1Ym1hcmluZS5pc1N1bmsoKSAmJiBwYXRyb2xib2F0LmlzU3VuaygpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnZ2FtZSBvdmVyJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnYW1lQm9hcmRcblxuXG5cblxuLyogcmVmYWN0b3JlZCBibG9ja3M6OjpcbnBsYWNlU2hpcChzaGlwLCBjb29yZCl7XG4gICAgaWYoY29vcmRbMV0gKyBzaGlwLmxlbmd0aCA8PSAxMCl7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGlmKGkgPT0gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5vY2N1cGllZC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV1dKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2hpcC5uYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2Fycmllcic6IHRoaXMuY2FycmllckhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV1dKVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdiYXR0bGVzaGlwJzogdGhpcy5iYXR0bGVzaGlwSGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rlc3Ryb3llcic6IHRoaXMuZGVzdHJveWVySGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N1Ym1hcmluZSc6IHRoaXMuc3VibWFyaW5lSGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhdHJvbGJvYXQnOiB0aGlzLnBhdHJvbGJvYXRIaXRib3gucHVzaChbY29vcmRbMF0sIGNvb3JkWzFdXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub2NjdXBpZWQucHVzaChbY29vcmRbMF0sIGNvb3JkWzFdK2ldKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2hpcC5uYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2Fycmllcic6IHRoaXMuY2FycmllckhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV0raV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JhdHRsZXNoaXAnOiB0aGlzLmJhdHRsZXNoaXBIaXRib3gucHVzaChbY29vcmRbMF0sIGNvb3JkWzFdK2ldKVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZXN0cm95ZXInOiB0aGlzLmRlc3Ryb3llckhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV0raV0pXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N1Ym1hcmluZSc6IHRoaXMuc3VibWFyaW5lSGl0Ym94LnB1c2goW2Nvb3JkWzBdLCBjb29yZFsxXStpXSlcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGF0cm9sYm9hdCc6IHRoaXMucGF0cm9sYm9hdEhpdGJveC5wdXNoKFtjb29yZFswXSwgY29vcmRbMV0raV0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vY2N1cGllZDtcbn1cblxucmVjZWl2ZUF0dGFjayhjb29yZCl7XG4gICAgdGhpcy5hdHRhY2tlZC5wdXNoKGNvb3JkKTtcbiAgICBpZih0aGlzLmNhcnJpZXJIaXRib3guaW5jbHVkZXMoY29vcmQpKSBjYXJyaWVyLmdvdEhpdCgpO1xuICAgIGlmKHRoaXMuYmF0dGxlc2hpcEhpdGJveC5pbmNsdWRlcyhjb29yZCkpIGJhdHRsZXNoaXAuZ290SGl0KCk7XG4gICAgaWYodGhpcy5kZXN0cm95ZXJIaXRib3guaW5jbHVkZXMoY29vcmQpKSBkZXN0cm95ZXIuZ290SGl0KCk7XG4gICAgaWYodGhpcy5zdWJtYXJpbmVIaXRib3guaW5jbHVkZXMoY29vcmQpKSBzdWJtYXJpbmUuZ290SGl0KCk7XG4gICAgaWYodGhpcy5wYXRyb2xib2F0SGl0Ym94LmluY2x1ZGVzKGNvb3JkKSkgcGF0cm9sYm9hdC5nb3RIaXQoKTtcblxuICAgIGlmKGNhcnJpZXIuaXNTdW5rKCkgJiYgYmF0dGxlc2hpcC5pc1N1bmsoKSAmJiBkZXN0cm95ZXIuaXNTdW5rKCkgJiYgc3VibWFyaW5lLmlzU3VuaygpICYmIHBhdHJvbGJvYXQuaXNTdW5rKCkpe1xuICAgICAgICByZXR1cm4gJ2dhbWUgb3ZlcidcbiAgICB9XG5cblxufVxuKi8iLCJmdW5jdGlvbiBwbGF5ZXJET00oZ2FtZUJvYXJkKXtcbiAgICBsZXQgZG9tQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdEdyaWQnKVxuICAgIGdhbWVCb2FyZC5mb3JFYWNoKGUgPT57XG4gICAgICAgIGxldCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdsZWZ0Q2VsbHMnKVxuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtbZVswXSwgZVsxXV19YClcbiAgICAgICAgZG9tQm9hcmQuYXBwZW5kQ2hpbGQoY2VsbClcbiAgICB9KVxufVxubW9kdWxlLmV4cG9ydHMgPSBwbGF5ZXJET01cbiIsImZ1bmN0aW9uIGNwdURPTShnYW1lQm9hcmQsIHNoaXBzQXJyYXksIG92ZXJhbGxIaXRib3gpIHtcbiAgICBsZXQgZG9tQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRHcmlkJyk7XG4gIFxuICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIGVsZW1lbnQgaW4gdGhlIGdhbWUgYm9hcmRcbiAgICBmb3IgKGxldCBlIG9mIGdhbWVCb2FyZCkge1xuICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0Q2VsbHMnKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7W2VbMF0sIGVbMV1dfWApO1xuICAgICAgICBkb21Cb2FyZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgXG4gICAgICAvLyBBdHRhY2ggYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGN1cnJlbnQgY2VsbFxuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2cob3ZlcmFsbEhpdGJveCk7XG4gIFxuICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCBlbGVtZW50IGluIHRoZSBvdmVyYWxsIGhpdGJveFxuICAgICAgICAgICAgZm9yIChsZXQgaGl0IG9mIG92ZXJhbGxIaXRib3gpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5pZCA9PSBgJHtoaXRbMF19LCR7aGl0WzFdfWApIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJztcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5vcGFjaXR5ID0gJzAuNic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2VsbC5pZCAhPT0gYCR7aGl0WzBdfSwke2hpdFsxXX1gKXtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLm9wYWNpdHkgPSAnMC4xJztcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4gIFxuXG4vKlxuZnVuY3Rpb24gY3B1RE9NKGdhbWVCb2FyZCwgc2hpcHNBcnJheSwgb3ZlcmFsbEhpdGJveCl7XG4gICAgbGV0IGRvbUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0R3JpZCcpXG4gICAgZ2FtZUJvYXJkLmZvckVhY2goZSA9PntcbiAgICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0Q2VsbHMnKVxuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtbZVswXSwgZVsxXV19YClcbiAgICAgICAgZG9tQm9hcmQuYXBwZW5kQ2hpbGQoY2VsbClcbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvdmVyYWxsSGl0Ym94KVxuICAgICAgICAgICAgb3ZlcmFsbEhpdGJveC5mb3JFYWNoKGUgPT57XG4gICAgICAgICAgICAgICAgaWYoY2VsbC5pZCA9PSBgJHtlWzBdfSwke2VbMV19YCl7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUub3BhY2l0eSA9ICcwLjYnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9KVxuICAgIFxufVxuKi9cblxubW9kdWxlLmV4cG9ydHMgPSBjcHVET00iLCJmdW5jdGlvbiBzaGlwRmFjdG9yeShsZW5ndGgsIG5hbWUsIGhpdCwgc3Vuayl7XG4gICAgcmV0dXJue1xuICAgICAgICBsZW5ndGgsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGhpdCxcbiAgICAgICAgc3VuayxcbiAgICAgICAgZ290SGl0KCl7XG4gICAgICAgICAgICBpZihsZW5ndGggPiBoaXQpe1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0ICs9IDFcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlzU3Vuaygpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoIDw9IHRoaXMuaGl0O1xuICAgICAgICB9XG4gICAgfSAgIFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaXBGYWN0b3J5XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiY29uc3Qgc2hpcEZhY3RvcnkgPSByZXF1aXJlKCcuL3NoaXBGYWN0b3J5JylcbmNvbnN0IGdhbWVCb2FyZCA9IHJlcXVpcmUoJy4vZ2FtZUJvYXJkJylcbi8vY29uc3QgcGxheWVyID0gcmVxdWlyZSgnLi9wbGF5ZXInKVxuLy9jb25zdCBjcHUgPSByZXF1aXJlKCcuL3BsYXllcicpXG5jb25zdCBwbGF5ZXJET00gPSByZXF1aXJlKCcuL2xlZnRET00nKVxuY29uc3QgY3B1RE9NID0gcmVxdWlyZSgnLi9yaWdodERPTScpXG5cblxuZnVuY3Rpb24gZ2FtZUxvb3AoKXtcbiAgICBwbGF5ZXIoKVxuICAgIGNwdSgpXG5cbn1cbmdhbWVMb29wKClcblxuZnVuY3Rpb24gcGxheWVyKCl7XG4gICAgbGV0IHBsYXllck5hbWUgPSAnUGxheWVyJ1xuICAgIGNvbnN0IGNhcnJpZXIgPSBzaGlwRmFjdG9yeSg1LCAnY2FycmllcicpXG4gICAgY29uc3QgYmF0dGxlc2hpcCA9IHNoaXBGYWN0b3J5KDQsICdiYXR0bGVzaGlwJylcbiAgICBjb25zdCBkZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgzLCAnZGVzdHJveWVyJylcbiAgICBjb25zdCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzLCAnc3VibWFyaW5lJylcbiAgICBjb25zdCBwYXRyb2xib2F0ID0gc2hpcEZhY3RvcnkoMiwgJ3BhdHJvbGJvYXQnKVxuICAgIGNvbnN0IHBsYXllckdhbWVCb2FyZCA9IGdhbWVCb2FyZCgpXG4gICAgcGxheWVyR2FtZUJvYXJkLmNyZWF0ZUJvYXJkKClcbiAgICBwbGF5ZXJHYW1lQm9hcmQucGxhY2VTaGlwKGNhcnJpZXIsIFs1LDRdKVxuICAgIHBsYXllckdhbWVCb2FyZC5wbGFjZVNoaXAoYmF0dGxlc2hpcCwgWzIsNl0pXG4gICAgcGxheWVyR2FtZUJvYXJkLnBsYWNlU2hpcChkZXN0cm95ZXIsIFsxLDVdKVxuICAgIHBsYXllckdhbWVCb2FyZC5wbGFjZVNoaXAoc3VibWFyaW5lLCBbNCw0XSlcbiAgICBwbGF5ZXJHYW1lQm9hcmQucGxhY2VTaGlwKHBhdHJvbGJvYXQsIFs1LDRdKVxuICAgIHBsYXllckRPTShwbGF5ZXJHYW1lQm9hcmQuYm9hcmQpXG4gICBcbiAgICBcblxufVxuZnVuY3Rpb24gY3B1KCl7XG4gICAgbGV0IHBsYXllck5hbWUgPSAnQ1BVJ1xuICAgIGNvbnN0IGNhcnJpZXIgPSBzaGlwRmFjdG9yeSg1LCAnY2FycmllcicpXG4gICAgY29uc3QgYmF0dGxlc2hpcCA9IHNoaXBGYWN0b3J5KDQsICdiYXR0bGVzaGlwJylcbiAgICBjb25zdCBkZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgzLCAnZGVzdHJveWVyJylcbiAgICBjb25zdCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzLCAnc3VibWFyaW5lJylcbiAgICBjb25zdCBwYXRyb2xib2F0ID0gc2hpcEZhY3RvcnkoMiwgJ3BhdHJvbGJvYXQnKVxuICAgIGNvbnN0IGNwdUdhbWVCb2FyZCA9IGdhbWVCb2FyZCgpXG4gICAgY3B1R2FtZUJvYXJkLmNyZWF0ZUJvYXJkKClcbiAgICBjcHVHYW1lQm9hcmQucGxhY2VTaGlwKGNhcnJpZXIsIFs1LDRdKVxuICAgIGNwdUdhbWVCb2FyZC5wbGFjZVNoaXAoYmF0dGxlc2hpcCwgWzIsNl0pXG4gICAgY3B1R2FtZUJvYXJkLnBsYWNlU2hpcChkZXN0cm95ZXIsIFsxLDVdKVxuICAgIGNwdUdhbWVCb2FyZC5wbGFjZVNoaXAoc3VibWFyaW5lLCBbNCw0XSlcbiAgICBjcHVHYW1lQm9hcmQucGxhY2VTaGlwKHBhdHJvbGJvYXQsIFs1LDRdKVxuICAgIGNvbnN0IHNoaXBzQXJyYXkgPSBbY3B1R2FtZUJvYXJkLmNhcnJpZXJIaXRib3gsIGNwdUdhbWVCb2FyZC5iYXR0bGVzaGlwSGl0Ym94LFxuICAgIGNwdUdhbWVCb2FyZC5kZXN0cm95ZXJIaXRib3gsIGNwdUdhbWVCb2FyZC5zdWJtYXJpbmVIaXRib3gsIGNwdUdhbWVCb2FyZC5wYXRyb2xib2F0SGl0Ym94XVxuICAgIGNwdURPTShjcHVHYW1lQm9hcmQuYm9hcmQsIHNoaXBzQXJyYXksIGNwdUdhbWVCb2FyZC5vdmVyYWxsSGl0Ym94KVxuXG59XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImJvYXJkIiwiYXR0YWNrZWQiLCJvdmVyYWxsSGl0Ym94IiwiY2FycmllckhpdGJveCIsImJhdHRsZXNoaXBIaXRib3giLCJkZXN0cm95ZXJIaXRib3giLCJzdWJtYXJpbmVIaXRib3giLCJwYXRyb2xib2F0SGl0Ym94IiwiY3JlYXRlQm9hcmQiLCJjb29yZHMiLCJ4QXhpcyIsImZvckVhY2giLCJlbCIsImkiLCJsZW5ndGgiLCJwdXNoIiwidGhpcyIsInBsYWNlU2hpcCIsInNoaXAiLCJjb29yZCIsImhpdGJveEtleSIsIm5hbWUiLCJ4IiwieSIsInJlY2VpdmVBdHRhY2siLCJoaXRib3hlcyIsInNoaXBzIiwiY2FycmllciIsImJhdHRsZXNoaXAiLCJkZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJwYXRyb2xib2F0IiwiaW5jbHVkZXMiLCJnb3RIaXQiLCJpc1N1bmsiLCJnYW1lQm9hcmQiLCJkb21Cb2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImUiLCJjZWxsIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwic2hpcHNBcnJheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiaGl0IiwiaWQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIm9wYWNpdHkiLCJzdW5rIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInNoaXBGYWN0b3J5IiwicGxheWVyRE9NIiwiY3B1RE9NIiwicGxheWVyR2FtZUJvYXJkIiwicGxheWVyIiwiY3B1R2FtZUJvYXJkIiwiY3B1Il0sInNvdXJjZVJvb3QiOiIifQ==