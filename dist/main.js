(()=>{var e={427:(e,t,r)=>{const i=r(942),o=r(431);r(922),e.exports=function(){return{attacked:[],carrierHitbox:[],battleshipHitbox:[],destroyerHitbox:[],submarineHitbox:[],patrolboatHitbox:[],createBoard(e){const t=document.querySelector(".leftGrid"),r=document.querySelector(".rightGrid");let i=[],o=[0,1,2,3,4,5,6,7,8,9];o.forEach((e=>{for(let t=0;t<o.length;t++)i.push([e,o[t]])}));for(let o of i){let i=document.createElement("div");"player"==e?(i.classList.add("leftCells"),i.setAttribute("id",`left${[o[0],o[1]]}`),t.appendChild(i)):(i.classList.add("rightCells"),i.setAttribute("id",`right${[o[0],o[1]]}`),r.appendChild(i))}},placeShip(e,t,r){if(t[1]+e.length>10)return!1;const a=`${e.name}Hitbox`;for(let s=0;s<e.length;s++){const e=t[0],l=t[1]+s;this[a].push([e,l]),"player"==r?i([e,l],"green"):o([e,l],"green")}return this[a]},receiveAttack(e){this.attacked.push(e);const t=[this.carrierHitbox,this.battleshipHitbox,this.destroyerHitbox,this.submarineHitbox,this.patrolboatHitbox],r=t.reduce(((e,t)=>e.concat(t)),[]);console.log(t);let o=!1;for(let t of r)if(t[0]==e[0]&&t[1]==e[1]){o=!0;break}return i(e,o?"red":"white"),e},allShipsSunk:e=>e.every((e=>e.isSunk()))}}},942:e=>{e.exports=function(e,t){console.log(`left${e[0]},${e[1]}`),document.getElementById(`left${e[0]},${e[1]}`).style.backgroundColor=t}},431:e=>{e.exports=function(e,t){document.getElementById(`right${e[0]},${e[1]}`).style.backgroundColor=t}},922:e=>{e.exports=function(e,t,r){return{length:e,name:t,hit:r,gotHit(){if(e>r)return console.log("test"),this.hit+=1,this.hit},isSunk(){return this.length<=this.hit}}}}},t={};function r(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,r),a.exports}(()=>{const e=r(922),t=r(427),i=r(942),o=r(431);class a{constructor(e,t){this.name="player",this.board=e,this.carrier=this.createCarrier(),this.battleship=this.createBattleship(),this.destroyer=this.createDestroyer(),this.submarine=this.createSubmarine(),this.patrolboat=this.createPatrolboat(),this.ships=[this.carrier,this.battleship,this.destroyer,this.submarine,this.patrolboat],this.playerHitboxes=[this.board.carrierHitbox,this.board.battleshipHitbox,this.board.destroyerHitbox,this.board.submarineHitbox,this.board.patrolboatHitbox],this.enemy="enemy",this.enemyBoard=t,this.enemyCarrier=this.createCarrier(),this.enemyBattleship=this.createBattleship(),this.enemyDestroyer=this.createDestroyer(),this.enemySubmarine=this.createSubmarine(),this.enemyPatrolboat=this.createPatrolboat(),this.enemyShips=[this.enemyCarrier,this.enemyBattleship,this.enemyDestroyer,this.enemySubmarine,this.enemyPatrolboat],this.enemyHitboxes=[this.enemyBoard.carrierHitbox,this.enemyBoard.battleshipHitbox,this.enemyBoard.destroyerHitbox,this.enemyBoard.submarineHitbox,this.enemyBoard.patrolboatHitbox]}attack(){"player"==this.name&&document.querySelectorAll(".rightCells").forEach((e=>{e.addEventListener("click",(()=>{document.querySelector(".leftCommand").innerHTML="";let t=this.convertEnemyIdToCoord(e),r=this.enemyBoard.attacked;const i=this.enemyHitboxes.reduce(((e,t)=>e.concat(t)),[]);if(r.some((e=>e[0]==t[0]&&e[1]==t[1])))return;let a=!1;for(let e of i)if(e[0]==t[0]&&e[1]==t[1]){a=!0;break}a?(o(t,"red"),this.findEnemyAttackedShip(t),r.push(t)):(o(t,"white"),r.push(t)),console.log(this.carrier.hit),console.log(this.battleship.hit),console.log(this.destroyer.hit),console.log(this.submarine.hit),console.log(this.patrolboat.hit),this.checkGameOver()||setTimeout((()=>{let e=this.board.receiveAttack(this.cpuAttackCoord());this.findPlayerAttackedShip(e),console.log(e)}),200)}))}))}cpuAttackCoord(){let e=this.generateCoord();for(;this.board.attacked.some((t=>t[0]==e[0]&&t[1]==e[1]));)e=this.generateCoord();return e}generateCoord(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}generateShipCoord(e){return[Math.floor(10*Math.random()),Math.floor(Math.random()*(10-e.length))]}convertEnemyIdToCoord(e){return[parseInt(e.id.charAt(5)),parseInt(e.id.charAt(7))]}convertPlayerIdToCoord(e){return[parseInt(e.id.charAt(4)),parseInt(e.id.charAt(6))]}findEnemyAttackedShip(e){this.enemyHitboxes.some(((t,r)=>{for(let i of t)i[0]==e[0]&&i[1]==e[1]&&this.enemyShips[r].gotHit()}))}findPlayerAttackedShip(e){this.playerHitboxes.some(((t,r)=>{for(let i of t)i[0]==e[0]&&i[1]==e[1]&&this.ships[r].gotHit()}))}placePlayerShips(){const e=document.querySelector(".leftCommand");let t=document.createElement("div");t.textContent="Place your carrier!",t.style.color="white",e.appendChild(t),document.querySelectorAll(".leftCells").forEach((t=>{t.addEventListener("mouseenter",(()=>{let e=this.convertPlayerIdToCoord(t);if(this.board.carrierHitbox.length<1)for(let t=0;t<this.carrier.length;t++)document.getElementById(`left${e[0]},${e[1]+t}`).classList.add("ships");else if(this.board.battleshipHitbox.length<1)for(let t=0;t<this.battleship.length;t++)document.getElementById(`left${e[0]},${e[1]+t}`).classList.add("ships");else if(this.board.destroyerHitbox.length<1)for(let t=0;t<this.destroyerHitbox.length;t++)i([e[0],e[1]+t],"green");else if(this.board.submarineHitbox.length<1)for(let t=0;t<this.submarineHitbox.length;t++)i([e[0],e[1]+t],"green");else if(this.board.patrolboatHitbox.length<1)for(let t=0;t<this.patrolboatHitbox.length;t++)i([e[0],e[1]+t],"green")})),t.addEventListener("mouseout",(()=>{let e=this.convertPlayerIdToCoord(t);if(this.board.carrierHitbox.length<1)for(let t=0;t<this.carrier.length;t++)document.getElementById(`left${e[0]},${e[1]+t}`).classList.remove("ships");else if(this.board.battleshipHitbox.length<1)for(let t=0;t<this.battleship.length;t++)document.getElementById(`left${e[0]},${e[1]+t}`).classList.remove("ships");else if(this.board.destroyerHitbox.length<1)for(let t=0;t<this.destroyerHitbox.length;t++)i([e[0],e[1]+t],"black");else if(this.board.submarineHitbox.length<1)for(let t=0;t<this.submarineHitbox.length;t++)i([e[0],e[1]+t],"black");else if(this.board.patrolboatHitbox.length<1)for(let t=0;t<this.patrolboatHitbox.length;t++)i([e[0],e[1]+t],"black")})),t.addEventListener("click",(()=>{console.log("click");let r=this.convertPlayerIdToCoord(t);if(this.board.carrierHitbox.length<1){if(!this.board.placeShip(this.carrier,r,"player"))return;this.board.placeShip(this.carrier,r,"player"),e.innerHTML="";let t=document.createElement("div");t.textContent="Place your battleship!",t.style.color="white",e.appendChild(t)}else if(this.board.battleshipHitbox.length<1){if(!this.board.placeShip(this.battleship,r,"player"))return;this.board.placeShip(this.battleship,r,"player"),e.innerHTML="";let t=document.createElement("div");t.textContent="Place your destroyer!",t.style.color="white",e.appendChild(t)}else if(this.board.destroyerHitbox.length<1){if(!this.board.placeShip(this.destroyer,r,"player"))return;this.board.placeShip(this.destroyer,r,"player"),e.innerHTML="";let t=document.createElement("div");t.textContent="Place your submarine!",t.style.color="white",e.appendChild(t)}else if(this.board.submarineHitbox.length<1){if(!this.board.placeShip(this.submarine,r,"player"))return;this.board.placeShip(this.submarine,r,"player"),e.innerHTML="";let t=document.createElement("div");t.textContent="Place your patrolboat!",t.style.color="white",e.appendChild(t)}else if(this.board.patrolboatHitbox.length<1){if(!this.board.placeShip(this.patrolboat,r,"player"))return;this.board.placeShip(this.patrolboat,r,"player"),e.innerHTML="";let t=document.createElement("div");t.textContent="Begin assault!",t.style.color="red",e.appendChild(t),this.attack()}}))}))}placeCpuShips(){let e=[this.enemyCarrier,this.enemyBattleship,this.enemyDestroyer,this.enemySubmarine,this.enemyPatrolboat];for(let t of e){let e=[this.enemyBoard.carrierHitbox,this.enemyBoard.battleshipHitbox,this.enemyBoard.destroyerHitbox,this.enemyBoard.submarineHitbox,this.enemyBoard.patrolboatHitbox],r=[].concat(...e),i=this.generateShipCoord(t);for(;r.some((e=>e[0]==i[0]&&e[1]==i[1]+t.length||e[0]==i[0]&&e[1]==i[1]));)i=this.generateShipCoord(t);this.enemyBoard.placeShip(t,i,"enemy")}}checkGameOver(){const e=document.querySelectorAll(".leftCells"),t=document.querySelectorAll(".rightCells");return this.board.allShipsSunk(this.ships)?(e.forEach((e=>{e.remove()})),t.forEach((e=>{e.remove()})),alert("You lost u fkn noob"),s(),!0):!!this.enemyBoard.allShipsSunk(this.enemyShips)&&(e.forEach((e=>{e.remove()})),t.forEach((e=>{e.remove()})),alert("you won, what a G"),s(),!0)}createPlayerBoard(){this.board.createBoard(this.name)}createEnemyBoard(){this.enemyBoard.createBoard("enemy")}createCarrier(){return e(5,"carrier",0)}createBattleship(){return e(4,"battleship",0)}createDestroyer(){return e(3,"destroyer",0)}createSubmarine(){return e(3,"submarine",0)}createPatrolboat(){return e(2,"patrolboat",0)}}function s(){let e=t(),r=t(),i=new a(r,e);i.createPlayerBoard(),i.createEnemyBoard(),i.placePlayerShips(),i.placeCpuShips()}s()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBQ0loRyxLQUFLZ0MsTUFBTTNELFlBQVkyQixLQUFLSixLQUNoQyxDQUNBcUcsbUJBQ0lqRyxLQUFLaUMsV0FBVzVELFlBQVksUUFDaEMsQ0FDQThELGdCQUVJLE9BRGdCUCxFQUFZLEVBQUcsVUFBVyxFQUU5QyxDQUNBUyxtQkFFSSxPQURtQlQsRUFBWSxFQUFHLGFBQWMsRUFFcEQsQ0FDQVcsa0JBRUksT0FEa0JYLEVBQVksRUFBRyxZQUFhLEVBRWxELENBQ0FhLGtCQUVJLE9BRGtCYixFQUFZLEVBQUcsWUFBYSxFQUVsRCxDQUNBZSxtQkFFSSxPQURtQmYsRUFBWSxFQUFHLGFBQWMsRUFFcEQsRUFJSixTQUFTbUUsSUFDTCxJQUFJOUQsRUFBYUosSUFDYnFFLEVBQWNyRSxJQUNkc0UsRUFBUyxJQUFJckUsRUFBT29FLEVBQWFqRSxHQUNyQ2tFLEVBQU9ILG9CQUNQRyxFQUFPRixtQkFDUEUsRUFBT3JCLG1CQUNQcUIsRUFBT1gsZUFXWCxDQUNBTyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lQm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9sZWZ0RE9NLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmlnaHRET00uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGxheWVyRE9NID0gcmVxdWlyZSgnLi9sZWZ0RE9NJylcbmNvbnN0IGVuZW15RE9NID0gcmVxdWlyZSgnLi9yaWdodERPTScpXG5jb25zdCBzaGlwRmFjdG9yeSA9IHJlcXVpcmUoJy4vc2hpcEZhY3RvcnknKVxuZnVuY3Rpb24gZ2FtZUJvYXJkKCl7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXR0YWNrZWQ6IFtdLFxuICAgICAgICBjYXJyaWVySGl0Ym94OiBbXSxcbiAgICAgICAgYmF0dGxlc2hpcEhpdGJveDogW10sXG4gICAgICAgIGRlc3Ryb3llckhpdGJveDogW10sXG4gICAgICAgIHN1Ym1hcmluZUhpdGJveDogW10sXG4gICAgICAgIHBhdHJvbGJvYXRIaXRib3g6IFtdLFxuICAgICAgICBcbiAgICAgICAgY3JlYXRlQm9hcmQocGxheWVyTmFtZSl7XG4gICAgICAgICAgICBjb25zdCBsZWZ0R3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZWZ0R3JpZCcpXG4gICAgICAgICAgICBjb25zdCByaWdodEdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRHcmlkJylcbiAgICAgICAgICAgIGxldCBjb29yZHMgPSBbXTtcbiAgICAgICAgICAgIGxldCB4QXhpcyA9IFswLDEsMiwzLDQsNSw2LDcsOCw5XVxuICAgICAgICAgICAgeEF4aXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHhBeGlzLmxlbmd0aDsgaSsrKSBjb29yZHMucHVzaChbZWwsIHhBeGlzW2ldXSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZm9yIChsZXQgZSBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKHBsYXllck5hbWUgPT0gJ3BsYXllcicpe1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdsZWZ0Q2VsbHMnKTtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2lkJywgYGxlZnQke1tlWzBdLCBlWzFdXX1gKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdEdyaWQuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgncmlnaHRDZWxscycpO1xuICAgICAgICAgICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnaWQnLCBgcmlnaHQke1tlWzBdLCBlWzFdXX1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRHcmlkLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGxhY2VTaGlwKHNoaXAsIGNvb3JkLCBuYW1lKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjb29yZFsxXSArIHNoaXAubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoaXRib3hLZXkgPSBgJHtzaGlwLm5hbWV9SGl0Ym94YDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBjb29yZFswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gY29vcmRbMV0gKyBpO1xuICAgICAgICAgICAgICAgIHRoaXNbaGl0Ym94S2V5XS5wdXNoKFt4LCB5XSk7XG4gICAgICAgICAgICAgICAgaWYobmFtZSA9PSAncGxheWVyJyl7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckRPTShbeCx5XSwgJ2dyZWVuJylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbmVteURPTShbeCx5XSwgJ2dyZWVuJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpc1toaXRib3hLZXldO1xuICAgICAgICB9LFxuICAgICAgICByZWNlaXZlQXR0YWNrKGNvb3JkKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrZWQucHVzaChjb29yZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHNoaXBIaXRib3hlcyA9IFt0aGlzLmNhcnJpZXJIaXRib3gsIHRoaXMuYmF0dGxlc2hpcEhpdGJveCwgdGhpcy5kZXN0cm95ZXJIaXRib3gsXG4gICAgICAgICAgICB0aGlzLnN1Ym1hcmluZUhpdGJveCwgdGhpcy5wYXRyb2xib2F0SGl0Ym94XVxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIGNvbnN0IG92ZXJhbGxIaXRib3hlcyA9IHNoaXBIaXRib3hlcy5yZWR1Y2UoKGFjYywgYXJyKSA9PiBhY2MuY29uY2F0KGFyciksIFtdKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coc2hpcEhpdGJveGVzKVxuICAgICAgICAgICAgbGV0IGlzSGl0Ym94ID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBoYiBvZiBvdmVyYWxsSGl0Ym94ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGJbMF0gPT0gY29vcmRbMF0gJiYgaGJbMV0gPT0gY29vcmRbMV0pIHtcbiAgICAgICAgICAgICAgICBpc0hpdGJveCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNIaXRib3gpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJET00oY29vcmQsICdyZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGxheWVyRE9NKGNvb3JkLCAnd2hpdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGNvb3JkXG4gICAgICAgIH0sXG4gICAgICAgIGFsbFNoaXBzU3VuayhzaGlwcyl7XG4gICAgICAgICAgICByZXR1cm4gc2hpcHMuZXZlcnkoc2hpcCA9PiBzaGlwLmlzU3VuaygpKVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2FtZUJvYXJkIiwiZnVuY3Rpb24gcGxheWVyRE9NKGNvb3JkLCBjb2xvcil7XG4gICAgY29uc29sZS5sb2coYGxlZnQke2Nvb3JkWzBdfSwke2Nvb3JkWzFdfWApO1xuICAgIGxldCBjZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxlZnQke2Nvb3JkWzBdfSwke2Nvb3JkWzFdfWApXG4gICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclxufVxubW9kdWxlLmV4cG9ydHMgPSBwbGF5ZXJET01cbiIsImZ1bmN0aW9uIGVuZW15RE9NKGNvb3JkLGNvbG9yKSB7XG4gICAgbGV0IGNlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmlnaHQke2Nvb3JkWzBdfSwke2Nvb3JkWzFdfWApXG4gICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclxufVxuICBcblxuLypcbmZ1bmN0aW9uIGNwdURPTShnYW1lQm9hcmQsIHNoaXBzQXJyYXksIG92ZXJhbGxIaXRib3gpe1xuICAgIGxldCBkb21Cb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodEdyaWQnKVxuICAgIGdhbWVCb2FyZC5mb3JFYWNoKGUgPT57XG4gICAgICAgIGxldCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdyaWdodENlbGxzJylcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7W2VbMF0sIGVbMV1dfWApXG4gICAgICAgIGRvbUJvYXJkLmFwcGVuZENoaWxkKGNlbGwpXG4gICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2cob3ZlcmFsbEhpdGJveClcbiAgICAgICAgICAgIG92ZXJhbGxIaXRib3guZm9yRWFjaChlID0+e1xuICAgICAgICAgICAgICAgIGlmKGNlbGwuaWQgPT0gYCR7ZVswXX0sJHtlWzFdfWApe1xuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnO1xuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLm9wYWNpdHkgPSAnMC42J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcbiAgICBcbn1cbiovXG5cbm1vZHVsZS5leHBvcnRzID0gZW5lbXlET00iLCJmdW5jdGlvbiBzaGlwRmFjdG9yeShsZW5ndGgsIG5hbWUsIGhpdCl7XG4gICAgcmV0dXJue1xuICAgICAgICBsZW5ndGgsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGhpdCxcbiAgICAgICAgZ290SGl0KCl7XG4gICAgICAgICAgICBpZihsZW5ndGggPiBoaXQpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0JylcbiAgICAgICAgICAgICAgICB0aGlzLmhpdCArPSAxXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGl0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc1N1bmsoKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA8PSB0aGlzLmhpdDtcbiAgICAgICAgfVxuICAgIH0gICBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGlwRmFjdG9yeVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImNvbnN0IHNoaXBGYWN0b3J5ID0gcmVxdWlyZSgnLi9zaGlwRmFjdG9yeScpXG5jb25zdCBnYW1lQm9hcmQgPSByZXF1aXJlKCcuL2dhbWVCb2FyZCcpXG4vL2NvbnN0IHBsYXllciA9IHJlcXVpcmUoJy4vcGxheWVyJylcbi8vY29uc3QgY3B1ID0gcmVxdWlyZSgnLi9wbGF5ZXInKVxuY29uc3QgcGxheWVyRE9NID0gcmVxdWlyZSgnLi9sZWZ0RE9NJylcbmNvbnN0IGVuZW15RE9NID0gcmVxdWlyZSgnLi9yaWdodERPTScpO1xuXG5jbGFzcyBQbGF5ZXJ7XG4gICAgY29uc3RydWN0b3IoYm9hcmQsZW5lbXlCb2FyZCl7XG4gICAgICAgIHRoaXMubmFtZSA9ICdwbGF5ZXInO1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7IFxuXG4gICAgICAgIHRoaXMuY2FycmllciA9IHRoaXMuY3JlYXRlQ2FycmllcigpXG4gICAgICAgIHRoaXMuYmF0dGxlc2hpcCA9IHRoaXMuY3JlYXRlQmF0dGxlc2hpcCgpXG4gICAgICAgIHRoaXMuZGVzdHJveWVyID0gdGhpcy5jcmVhdGVEZXN0cm95ZXIoKVxuICAgICAgICB0aGlzLnN1Ym1hcmluZSA9IHRoaXMuY3JlYXRlU3VibWFyaW5lKClcbiAgICAgICAgdGhpcy5wYXRyb2xib2F0ID0gdGhpcy5jcmVhdGVQYXRyb2xib2F0KClcblxuICAgICAgICB0aGlzLnNoaXBzID0gW3RoaXMuY2FycmllciwgdGhpcy5iYXR0bGVzaGlwLCB0aGlzLmRlc3Ryb3llciwgdGhpcy5zdWJtYXJpbmUsIHRoaXMucGF0cm9sYm9hdF1cbiAgICAgICAgdGhpcy5wbGF5ZXJIaXRib3hlcyA9IFt0aGlzLmJvYXJkLmNhcnJpZXJIaXRib3gsIHRoaXMuYm9hcmQuYmF0dGxlc2hpcEhpdGJveCxcbiAgICAgICAgdGhpcy5ib2FyZC5kZXN0cm95ZXJIaXRib3gsIHRoaXMuYm9hcmQuc3VibWFyaW5lSGl0Ym94LCB0aGlzLmJvYXJkLnBhdHJvbGJvYXRIaXRib3hdXG5cbiAgICAgICAgdGhpcy5lbmVteSA9ICdlbmVteSdcbiAgICAgICAgdGhpcy5lbmVteUJvYXJkID0gZW5lbXlCb2FyZDtcblxuICAgICAgICB0aGlzLmVuZW15Q2FycmllciA9IHRoaXMuY3JlYXRlQ2FycmllcigpXG4gICAgICAgIHRoaXMuZW5lbXlCYXR0bGVzaGlwID0gdGhpcy5jcmVhdGVCYXR0bGVzaGlwKClcbiAgICAgICAgdGhpcy5lbmVteURlc3Ryb3llciA9IHRoaXMuY3JlYXRlRGVzdHJveWVyKClcbiAgICAgICAgdGhpcy5lbmVteVN1Ym1hcmluZSA9IHRoaXMuY3JlYXRlU3VibWFyaW5lKClcbiAgICAgICAgdGhpcy5lbmVteVBhdHJvbGJvYXQgPSB0aGlzLmNyZWF0ZVBhdHJvbGJvYXQoKVxuXG4gICAgICAgIHRoaXMuZW5lbXlTaGlwcyA9IFt0aGlzLmVuZW15Q2FycmllciwgdGhpcy5lbmVteUJhdHRsZXNoaXAsIHRoaXMuZW5lbXlEZXN0cm95ZXIsXG4gICAgICAgIHRoaXMuZW5lbXlTdWJtYXJpbmUsIHRoaXMuZW5lbXlQYXRyb2xib2F0XVxuICAgICAgICBcbiAgICAgICAgdGhpcy5lbmVteUhpdGJveGVzID0gW3RoaXMuZW5lbXlCb2FyZC5jYXJyaWVySGl0Ym94LCB0aGlzLmVuZW15Qm9hcmQuYmF0dGxlc2hpcEhpdGJveCxcbiAgICAgICAgICAgIHRoaXMuZW5lbXlCb2FyZC5kZXN0cm95ZXJIaXRib3gsIHRoaXMuZW5lbXlCb2FyZC5zdWJtYXJpbmVIaXRib3gsXG4gICAgICAgICAgICB0aGlzLmVuZW15Qm9hcmQucGF0cm9sYm9hdEhpdGJveF1cbiAgICB9XG4gICAgYXR0YWNrKCkge1xuICAgICAgICBpZiAodGhpcy5uYW1lID09ICdwbGF5ZXInKSB7XG4gICAgICAgICAgICBjb25zdCBjcHVDZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yaWdodENlbGxzJyk7XG4gICAgICAgICAgICBjcHVDZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICAgICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdENvbW1hbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdENvbW1hbmQnKVxuICAgICAgICAgICAgICAgIGxlZnRDb21tYW5kLmlubmVySFRNTCA9ICcnXG4gICAgICAgICAgICAgICAgbGV0IGNkID0gdGhpcy5jb252ZXJ0RW5lbXlJZFRvQ29vcmQoY2VsbCk7XG4gICAgICAgICAgICAgICAgbGV0IGF0dGFja0Nvb3JkID0gdGhpcy5lbmVteUJvYXJkLmF0dGFja2VkO1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJhbGxIaXRib3hlcyA9IHRoaXMuZW5lbXlIaXRib3hlcy5yZWR1Y2UoKGFjYywgYXJyKSA9PiBhY2MuY29uY2F0KGFyciksIFtdKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGF0dGFja0Nvb3JkLnNvbWUoZSA9PiBlWzBdID09IGNkWzBdICYmIGVbMV0gPT0gY2RbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gUmV0dXJuIGVhcmx5IGlmIHRoZSBjZWxsIGhhcyBhbHJlYWR5IGJlZW4gYXR0YWNrZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBpc0hpdGJveCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGhiIG9mIG92ZXJhbGxIaXRib3hlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGJbMF0gPT0gY2RbMF0gJiYgaGJbMV0gPT0gY2RbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgaXNIaXRib3ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoaXNIaXRib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5lbXlET00oY2QsICdyZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5kRW5lbXlBdHRhY2tlZFNoaXAoY2QpO1xuICAgICAgICAgICAgICAgICAgICBhdHRhY2tDb29yZC5wdXNoKGNkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbmVteURPTShjZCwgJ3doaXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFja0Nvb3JkLnB1c2goY2QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNhcnJpZXIuaGl0KVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYmF0dGxlc2hpcC5oaXQpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5kZXN0cm95ZXIuaGl0KVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3VibWFyaW5lLmhpdClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBhdHJvbGJvYXQuaGl0KVxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmNoZWNrR2FtZU92ZXIoKSl7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmN2Q2QgPSB0aGlzLmJvYXJkLnJlY2VpdmVBdHRhY2sodGhpcy5jcHVBdHRhY2tDb29yZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZFBsYXllckF0dGFja2VkU2hpcChyY3ZDZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJjdkNkKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgY3B1QXR0YWNrQ29vcmQoKXtcbiAgICAgICAgbGV0IGdlbiA9IHRoaXMuZ2VuZXJhdGVDb29yZCgpO1xuICAgICAgICB3aGlsZSAodGhpcy5ib2FyZC5hdHRhY2tlZC5zb21lKGUgPT4gZVswXSA9PSBnZW5bMF0gJiYgZVsxXSA9PSBnZW5bMV0pKSB7XG4gICAgICAgICAgICBnZW4gPSB0aGlzLmdlbmVyYXRlQ29vcmQoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW5cbiAgICB9XG4gICAgZ2VuZXJhdGVDb29yZCgpe1xuICAgICAgICByZXR1cm4gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApXVxuICAgIH1cbiAgICBnZW5lcmF0ZVNoaXBDb29yZChzaGlwKXtcbiAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxMCAtIHNoaXAubGVuZ3RoKSldXG4gICAgfVxuICAgIGNvbnZlcnRFbmVteUlkVG9Db29yZChlbCl7XG4gICAgICAgIHJldHVybiBbcGFyc2VJbnQoZWwuaWQuY2hhckF0KDUpKSwgcGFyc2VJbnQoZWwuaWQuY2hhckF0KDcpKV1cbiAgICB9XG4gICAgY29udmVydFBsYXllcklkVG9Db29yZChlbCl7XG4gICAgICAgIHJldHVybiBbcGFyc2VJbnQoZWwuaWQuY2hhckF0KDQpKSwgcGFyc2VJbnQoZWwuaWQuY2hhckF0KDYpKV1cbiAgICB9XG4gICAgXG4gICAgZmluZEVuZW15QXR0YWNrZWRTaGlwKGNvb3JkKXtcbiAgICAgICAgdGhpcy5lbmVteUhpdGJveGVzLnNvbWUoKHNoaXAsIGluZGV4KSA9PntcbiAgICAgICAgICAgIGZvcihsZXQgaGIgb2Ygc2hpcCl7XG4gICAgICAgICAgICAgICAgaWYoaGJbMF0gPT0gY29vcmRbMF0gJiYgaGJbMV0gPT0gY29vcmRbMV0pe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15U2hpcHNbaW5kZXhdLmdvdEhpdCgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBmaW5kUGxheWVyQXR0YWNrZWRTaGlwKGNvb3JkKXtcbiAgICAgICAgdGhpcy5wbGF5ZXJIaXRib3hlcy5zb21lKChzaGlwLCBpbmRleCkgPT57XG4gICAgICAgICAgICBmb3IobGV0IGhiIG9mIHNoaXApe1xuICAgICAgICAgICAgICAgIGlmKGhiWzBdID09IGNvb3JkWzBdICYmIGhiWzFdID09IGNvb3JkWzFdKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGlwc1tpbmRleF0uZ290SGl0KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgICBcbiAgICBcbiAgICBwbGFjZVBsYXllclNoaXBzKCl7XG4gICAgICAgIGNvbnN0IGxlZnRDb21tYW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlZnRDb21tYW5kJylcbiAgICAgICAgXG4gICAgICAgIGxldCBwbGFjZUNhcnJpZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBwbGFjZUNhcnJpZXIudGV4dENvbnRlbnQgPSAnUGxhY2UgeW91ciBjYXJyaWVyISc7XG4gICAgICAgIHBsYWNlQ2Fycmllci5zdHlsZS5jb2xvciA9ICd3aGl0ZSdcbiAgICAgICAgbGVmdENvbW1hbmQuYXBwZW5kQ2hpbGQocGxhY2VDYXJyaWVyKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgcGxheWVyQ2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGVmdENlbGxzJyk7XG4gICAgICAgIFxuICAgICAgICBwbGF5ZXJDZWxscy5mb3JFYWNoKGNlbGwgPT57XG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBjZCA9IHRoaXMuY29udmVydFBsYXllcklkVG9Db29yZChjZWxsKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJvYXJkLmNhcnJpZXJIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmNhcnJpZXIubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvb3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxlZnQke2NkWzBdfSwke2NkWzFdK2l9YClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkLmNsYXNzTGlzdC5hZGQoJ3NoaXBzJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5iYXR0bGVzaGlwSGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXR0bGVzaGlwLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsZWZ0JHtjZFswXX0sJHtjZFsxXStpfWApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZC5jbGFzc0xpc3QuYWRkKCdzaGlwcycpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQuZGVzdHJveWVySGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5kZXN0cm95ZXJIaXRib3gubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRE9NKFtjZFswXSwgY2RbMV0raV0sICdncmVlbicpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQuc3VibWFyaW5lSGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zdWJtYXJpbmVIaXRib3gubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRE9NKFtjZFswXSwgY2RbMV0raV0sICdncmVlbicpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQucGF0cm9sYm9hdEhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMucGF0cm9sYm9hdEhpdGJveC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJET00oW2NkWzBdLCBjZFsxXStpXSwgJ2dyZWVuJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBjZCA9IHRoaXMuY29udmVydFBsYXllcklkVG9Db29yZChjZWxsKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJvYXJkLmNhcnJpZXJIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmNhcnJpZXIubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvb3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxlZnQke2NkWzBdfSwke2NkWzFdK2l9YClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkLmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXBzJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5iYXR0bGVzaGlwSGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXR0bGVzaGlwLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsZWZ0JHtjZFswXX0sJHtjZFsxXStpfWApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZC5jbGFzc0xpc3QucmVtb3ZlKCdzaGlwcycpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQuZGVzdHJveWVySGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5kZXN0cm95ZXJIaXRib3gubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRE9NKFtjZFswXSwgY2RbMV0raV0sICdibGFjaycpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQuc3VibWFyaW5lSGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zdWJtYXJpbmVIaXRib3gubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRE9NKFtjZFswXSwgY2RbMV0raV0sICdibGFjaycpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQucGF0cm9sYm9hdEhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMucGF0cm9sYm9hdEhpdGJveC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJET00oW2NkWzBdLCBjZFsxXStpXSwgJ2JsYWNrJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgbGV0IGNkID0gdGhpcy5jb252ZXJ0UGxheWVySWRUb0Nvb3JkKGNlbGwpO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuYm9hcmQuY2FycmllckhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmJvYXJkLnBsYWNlU2hpcCh0aGlzLmNhcnJpZXIsIGNkLCAncGxheWVyJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMuY2FycmllciwgY2QsICdwbGF5ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbW1hbmQuaW5uZXJIVE1MID0gJydcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlQmF0dGxlc2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlQmF0dGxlc2hpcC50ZXh0Q29udGVudCA9ICdQbGFjZSB5b3VyIGJhdHRsZXNoaXAhJztcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VCYXR0bGVzaGlwLnN0eWxlLmNvbG9yID0gJ3doaXRlJ1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29tbWFuZC5hcHBlbmRDaGlsZChwbGFjZUJhdHRsZXNoaXApXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5iYXR0bGVzaGlwSGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5ib2FyZC5wbGFjZVNoaXAodGhpcy5iYXR0bGVzaGlwLCBjZCwgJ3BsYXllcicpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMuYmF0dGxlc2hpcCwgY2QsICdwbGF5ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbW1hbmQuaW5uZXJIVE1MID0gJydcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlRGVzdHJveWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VEZXN0cm95ZXIudGV4dENvbnRlbnQgPSAnUGxhY2UgeW91ciBkZXN0cm95ZXIhJztcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VEZXN0cm95ZXIuc3R5bGUuY29sb3IgPSAnd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDb21tYW5kLmFwcGVuZENoaWxkKHBsYWNlRGVzdHJveWVyKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5kZXN0cm95ZXJIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmJvYXJkLnBsYWNlU2hpcCh0aGlzLmRlc3Ryb3llciwgY2QsICdwbGF5ZXInKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkLnBsYWNlU2hpcCh0aGlzLmRlc3Ryb3llciwgY2QsICdwbGF5ZXInKVxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29tbWFuZC5pbm5lckhUTUwgPSAnJ1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2VTdWJtYXJpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICBwbGFjZVN1Ym1hcmluZS50ZXh0Q29udGVudCA9ICdQbGFjZSB5b3VyIHN1Ym1hcmluZSEnO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZVN1Ym1hcmluZS5zdHlsZS5jb2xvciA9ICd3aGl0ZSdcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbW1hbmQuYXBwZW5kQ2hpbGQocGxhY2VTdWJtYXJpbmUpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLnN1Ym1hcmluZUhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMuc3VibWFyaW5lLCBjZCwgJ3BsYXllcicpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMuc3VibWFyaW5lLCBjZCwgJ3BsYXllcicpXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDb21tYW5kLmlubmVySFRNTCA9ICcnXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGFjZVBhdHJvbGJvYXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICBwbGFjZVBhdHJvbGJvYXQudGV4dENvbnRlbnQgPSAnUGxhY2UgeW91ciBwYXRyb2xib2F0ISc7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlUGF0cm9sYm9hdC5zdHlsZS5jb2xvciA9ICd3aGl0ZSdcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbW1hbmQuYXBwZW5kQ2hpbGQocGxhY2VQYXRyb2xib2F0KVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLnBhdHJvbGJvYXRIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmJvYXJkLnBsYWNlU2hpcCh0aGlzLnBhdHJvbGJvYXQsIGNkLCAncGxheWVyJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZC5wbGFjZVNoaXAodGhpcy5wYXRyb2xib2F0LCBjZCwgJ3BsYXllcicpXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDb21tYW5kLmlubmVySFRNTCA9ICcnXG4gICAgICAgICAgICAgICAgICAgIGxldCBiZWdpbkFzc2F1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICBiZWdpbkFzc2F1bHQudGV4dENvbnRlbnQgPSAnQmVnaW4gYXNzYXVsdCEnO1xuICAgICAgICAgICAgICAgICAgICBiZWdpbkFzc2F1bHQuc3R5bGUuY29sb3IgPSAncmVkJ1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29tbWFuZC5hcHBlbmRDaGlsZChiZWdpbkFzc2F1bHQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrKClcbiAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBjZCA9IHRoaXMuY29udmVydFBsYXllcklkVG9Db29yZChjZWxsKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJvYXJkLmNhcnJpZXJIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmNhcnJpZXIubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRE9NKFtjZFswXSwgY2RbMV0raV0sICdncmVlbicpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQuYmF0dGxlc2hpcEhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0dGxlc2hpcC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJET00oW2NkWzBdLCBjZFsxXStpXSwgJ2dyZWVuJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5kZXN0cm95ZXJIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmRlc3Ryb3llckhpdGJveC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJET00oW2NkWzBdLCBjZFsxXStpXSwgJ2dyZWVuJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5zdWJtYXJpbmVIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnN1Ym1hcmluZUhpdGJveC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJET00oW2NkWzBdLCBjZFsxXStpXSwgJ2dyZWVuJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5wYXRyb2xib2F0SGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRyb2xib2F0SGl0Ym94Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckRPTShbY2RbMF0sIGNkWzFdK2ldLCAnZ3JlZW4nKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpPT57XG4gICAgICAgICAgICAgICAgbGV0IGNkID0gdGhpcy5jb252ZXJ0UGxheWVySWRUb0Nvb3JkKGNlbGwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYm9hcmQuY2FycmllckhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY2Fycmllci5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJET00oW2NkWzBdLCBjZFsxXStpXSwgJ2JsYWNrJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5iYXR0bGVzaGlwSGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXR0bGVzaGlwLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckRPTShbY2RbMF0sIGNkWzFdK2ldLCAnYmxhY2snKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLmRlc3Ryb3llckhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZGVzdHJveWVySGl0Ym94Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckRPTShbY2RbMF0sIGNkWzFdK2ldLCAnYmxhY2snKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLnN1Ym1hcmluZUhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc3VibWFyaW5lSGl0Ym94Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckRPTShbY2RbMF0sIGNkWzFdK2ldLCAnYmxhY2snKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLnBhdHJvbGJvYXRIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnBhdHJvbGJvYXRIaXRib3gubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRE9NKFtjZFswXSwgY2RbMV0raV0sICdibGFjaycpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcbiAgICAgICAgICAgICAgICBsZXQgY2QgPSB0aGlzLmNvbnZlcnRQbGF5ZXJJZFRvQ29vcmQoY2VsbCk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5ib2FyZC5jYXJyaWVySGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMuY2FycmllciwgY2QsICdwbGF5ZXInKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZC5wbGFjZVNoaXAodGhpcy5jYXJyaWVyLCBjZCwgJ3BsYXllcicpO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29tbWFuZC5pbm5lckhUTUwgPSAnJ1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2VCYXR0bGVzaGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VCYXR0bGVzaGlwLnRleHRDb250ZW50ID0gJ1BsYWNlIHlvdXIgYmF0dGxlc2hpcCEnO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZUJhdHRsZXNoaXAuc3R5bGUuY29sb3IgPSAnd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDb21tYW5kLmFwcGVuZENoaWxkKHBsYWNlQmF0dGxlc2hpcClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLmJhdHRsZXNoaXBIaXRib3gubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmJvYXJkLnBsYWNlU2hpcCh0aGlzLmJhdHRsZXNoaXAsIGNkLCAncGxheWVyJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZC5wbGFjZVNoaXAodGhpcy5iYXR0bGVzaGlwLCBjZCwgJ3BsYXllcicpO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29tbWFuZC5pbm5lckhUTUwgPSAnJ1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2VEZXN0cm95ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICBwbGFjZURlc3Ryb3llci50ZXh0Q29udGVudCA9ICdQbGFjZSB5b3VyIGRlc3Ryb3llciEnO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZURlc3Ryb3llci5zdHlsZS5jb2xvciA9ICd3aGl0ZSdcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbW1hbmQuYXBwZW5kQ2hpbGQocGxhY2VEZXN0cm95ZXIpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLmRlc3Ryb3llckhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMuZGVzdHJveWVyLCBjZCwgJ3BsYXllcicpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMuZGVzdHJveWVyLCBjZCwgJ3BsYXllcicpXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDb21tYW5kLmlubmVySFRNTCA9ICcnXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGFjZVN1Ym1hcmluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlU3VibWFyaW5lLnRleHRDb250ZW50ID0gJ1BsYWNlIHlvdXIgc3VibWFyaW5lISc7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlU3VibWFyaW5lLnN0eWxlLmNvbG9yID0gJ3doaXRlJ1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29tbWFuZC5hcHBlbmRDaGlsZChwbGFjZVN1Ym1hcmluZSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQuc3VibWFyaW5lSGl0Ym94Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5ib2FyZC5wbGFjZVNoaXAodGhpcy5zdWJtYXJpbmUsIGNkLCAncGxheWVyJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZC5wbGFjZVNoaXAodGhpcy5zdWJtYXJpbmUsIGNkLCAncGxheWVyJylcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbW1hbmQuaW5uZXJIVE1MID0gJydcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlUGF0cm9sYm9hdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlUGF0cm9sYm9hdC50ZXh0Q29udGVudCA9ICdQbGFjZSB5b3VyIHBhdHJvbGJvYXQhJztcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VQYXRyb2xib2F0LnN0eWxlLmNvbG9yID0gJ3doaXRlJ1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29tbWFuZC5hcHBlbmRDaGlsZChwbGFjZVBhdHJvbGJvYXQpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmQucGF0cm9sYm9hdEhpdGJveC5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuYm9hcmQucGxhY2VTaGlwKHRoaXMucGF0cm9sYm9hdCwgY2QsICdwbGF5ZXInKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkLnBsYWNlU2hpcCh0aGlzLnBhdHJvbGJvYXQsIGNkLCAncGxheWVyJylcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbW1hbmQuaW5uZXJIVE1MID0gJydcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJlZ2luQXNzYXVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luQXNzYXVsdC50ZXh0Q29udGVudCA9ICdCZWdpbiBhc3NhdWx0ISc7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luQXNzYXVsdC5zdHlsZS5jb2xvciA9ICdyZWQnXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDb21tYW5kLmFwcGVuZENoaWxkKGJlZ2luQXNzYXVsdClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2soKVxuICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgXG4gICAgcGxhY2VDcHVTaGlwcygpe1xuICAgICAgICBsZXQgZW5lbXlTaGlwcyA9IFt0aGlzLmVuZW15Q2FycmllciwgdGhpcy5lbmVteUJhdHRsZXNoaXAsIHRoaXMuZW5lbXlEZXN0cm95ZXIsXG4gICAgICAgIHRoaXMuZW5lbXlTdWJtYXJpbmUsIHRoaXMuZW5lbXlQYXRyb2xib2F0XVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGZvcihsZXQgc2hpcCBvZiBlbmVteVNoaXBzKXtcbiAgICAgICAgICAgIGxldCBvY2N1cGllZCA9IFt0aGlzLmVuZW15Qm9hcmQuY2FycmllckhpdGJveCwgdGhpcy5lbmVteUJvYXJkLmJhdHRsZXNoaXBIaXRib3gsXG4gICAgICAgICAgICAgICAgdGhpcy5lbmVteUJvYXJkLmRlc3Ryb3llckhpdGJveCwgdGhpcy5lbmVteUJvYXJkLnN1Ym1hcmluZUhpdGJveCwgXG4gICAgICAgICAgICAgICAgdGhpcy5lbmVteUJvYXJkLnBhdHJvbGJvYXRIaXRib3hdXG4gICAgICAgICAgICBsZXQgb2NjdXBpZWRUb3RhbCA9IFtdLmNvbmNhdCguLi5vY2N1cGllZClcbiAgICAgICAgICAgIGxldCBnZW4gPSB0aGlzLmdlbmVyYXRlU2hpcENvb3JkKHNoaXApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHdoaWxlKG9jY3VwaWVkVG90YWwuc29tZShvY2MgPT4gb2NjWzBdID09IGdlblswXSAmJiBvY2NbMV0gPT0gKGdlblsxXSArIHNoaXAubGVuZ3RoKSB8fFxuICAgICAgICAgICAgb2NjWzBdID09IGdlblswXSAmJiBvY2NbMV0gPT0gZ2VuWzFdKSl7XG4gICAgICAgICAgICAgICAgZ2VuID0gdGhpcy5nZW5lcmF0ZVNoaXBDb29yZChzaGlwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmVuZW15Qm9hcmQucGxhY2VTaGlwKHNoaXAsIGdlbiwgJ2VuZW15JylcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBjaGVja0dhbWVPdmVyKCl7XG4gICAgICAgIGNvbnN0IGxlZnRDZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sZWZ0Q2VsbHMnKVxuICAgICAgICBjb25zdCByaWdodENlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJpZ2h0Q2VsbHMnKVxuICAgICAgICBpZih0aGlzLmJvYXJkLmFsbFNoaXBzU3Vuayh0aGlzLnNoaXBzKSl7XG4gICAgICAgICAgICBsZWZ0Q2VsbHMuZm9yRWFjaChlID0+e1xuICAgICAgICAgICAgICAgIGUucmVtb3ZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICByaWdodENlbGxzLmZvckVhY2goZSA9PntcbiAgICAgICAgICAgICAgICBlLnJlbW92ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgYWxlcnQoJ1lvdSBsb3N0IHUgZmtuIG5vb2InKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBnYW1lTG9vcCgpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGVsc2UgaWYodGhpcy5lbmVteUJvYXJkLmFsbFNoaXBzU3Vuayh0aGlzLmVuZW15U2hpcHMpKXtcbiAgICAgICAgICAgIGxlZnRDZWxscy5mb3JFYWNoKGUgPT57XG4gICAgICAgICAgICAgICAgZS5yZW1vdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJpZ2h0Q2VsbHMuZm9yRWFjaChlID0+e1xuICAgICAgICAgICAgICAgIGUucmVtb3ZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBhbGVydCgneW91IHdvbiwgd2hhdCBhIEcnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBnYW1lTG9vcCgpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlUGxheWVyQm9hcmQoKXtcbiAgICAgICAgdGhpcy5ib2FyZC5jcmVhdGVCb2FyZCh0aGlzLm5hbWUpXG4gICAgfVxuICAgIGNyZWF0ZUVuZW15Qm9hcmQoKXtcbiAgICAgICAgdGhpcy5lbmVteUJvYXJkLmNyZWF0ZUJvYXJkKCdlbmVteScpXG4gICAgfVxuICAgIGNyZWF0ZUNhcnJpZXIoKXtcbiAgICAgICAgY29uc3QgY2FycmllciA9IHNoaXBGYWN0b3J5KDUsICdjYXJyaWVyJywgMClcbiAgICAgICAgcmV0dXJuIGNhcnJpZXJcbiAgICB9XG4gICAgY3JlYXRlQmF0dGxlc2hpcCgpe1xuICAgICAgICBjb25zdCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCwgJ2JhdHRsZXNoaXAnLCAwKVxuICAgICAgICByZXR1cm4gYmF0dGxlc2hpcFxuICAgIH1cbiAgICBjcmVhdGVEZXN0cm95ZXIoKXtcbiAgICAgICAgY29uc3QgZGVzdHJveWVyID0gc2hpcEZhY3RvcnkoMywgJ2Rlc3Ryb3llcicsIDApXG4gICAgICAgIHJldHVybiBkZXN0cm95ZXJcbiAgICB9XG4gICAgY3JlYXRlU3VibWFyaW5lKCl7XG4gICAgICAgIGNvbnN0IHN1Ym1hcmluZSA9IHNoaXBGYWN0b3J5KDMsICdzdWJtYXJpbmUnLCAwKVxuICAgICAgICByZXR1cm4gc3VibWFyaW5lXG4gICAgfVxuICAgIGNyZWF0ZVBhdHJvbGJvYXQoKXtcbiAgICAgICAgY29uc3QgcGF0cm9sYm9hdCA9IHNoaXBGYWN0b3J5KDIsICdwYXRyb2xib2F0JywgMClcbiAgICAgICAgcmV0dXJuIHBhdHJvbGJvYXRcbiAgICB9XG5cblxufVxuZnVuY3Rpb24gZ2FtZUxvb3AoKXtcbiAgICBsZXQgZW5lbXlCb2FyZCA9IGdhbWVCb2FyZCgpXG4gICAgbGV0IHBsYXllckJvYXJkID0gZ2FtZUJvYXJkKClcbiAgICBsZXQgcGxheWVyID0gbmV3IFBsYXllcihwbGF5ZXJCb2FyZCwgZW5lbXlCb2FyZClcbiAgICBwbGF5ZXIuY3JlYXRlUGxheWVyQm9hcmQoKVxuICAgIHBsYXllci5jcmVhdGVFbmVteUJvYXJkKClcbiAgICBwbGF5ZXIucGxhY2VQbGF5ZXJTaGlwcygpO1xuICAgIHBsYXllci5wbGFjZUNwdVNoaXBzKClcbiAgICAvKlxuICAgIHBsYXllci5ib2FyZC5wbGFjZVNoaXAocGxheWVyLmNhcnJpZXIsIFs1LDRdLCAncGxheWVyJylcbiAgICBwbGF5ZXIuYm9hcmQucGxhY2VTaGlwKHBsYXllci5iYXR0bGVzaGlwLCBbNCw0XSwgJ3BsYXllcicpXG4gICAgcGxheWVyLmJvYXJkLnBsYWNlU2hpcChwbGF5ZXIuZGVzdHJveWVyLCBbMyw0XSwgJ3BsYXllcicpXG4gICAgcGxheWVyLmJvYXJkLnBsYWNlU2hpcChwbGF5ZXIuc3VibWFyaW5lLCBbMiw0XSwgJ3BsYXllcicpXG4gICAgcGxheWVyLmJvYXJkLnBsYWNlU2hpcChwbGF5ZXIucGF0cm9sYm9hdCwgWzEsNF0sICdwbGF5ZXInKVxuICAgICovXG4gICAgXG4gICAgXG4gICAgXG59XG5nYW1lTG9vcCgpXG4vKlxuZnVuY3Rpb24gZ2FtZUxvb3AoKXtcbiAgICBsZXQgZW5lbXlCb2FyZCA9IGdhbWVCb2FyZCgpXG4gICAgbGV0IHBsYXllckJvYXJkID0gZ2FtZUJvYXJkKClcbiAgICBsZXQgcGxheWVyID0gbmV3IFBsYXllcigncGxheWVyJywgcGxheWVyQm9hcmQsIGVuZW15Qm9hcmQpXG4gICAgcGxheWVyLmNyZWF0ZVBsYXllckJvYXJkKClcbiAgICBwbGF5ZXIuYm9hcmQucGxhY2VTaGlwKHBsYXllci5jYXJyaWVyLCBbNSw0XSlcbiAgICBcbiAgICBsZXQgY3B1Qm9hcmQgPSBnYW1lQm9hcmQoKVxuICAgIGxldCBjcHUgPSBuZXcgUGxheWVyKCdjcHUnLCBjcHVCb2FyZClcbiAgICBjcHUuY3JlYXRlUGxheWVyQm9hcmQoKVxuICAgIHBsYXllci5hdHRhY2soKVxufVxuZ2FtZUxvb3AoKVxuKi9cblxuLypcbmZ1bmN0aW9uIHBsYXllcigpe1xuICAgIGNvbnNvbGUubG9nKCdwcHBwJyk7XG4gICAgbGV0IHRlc3RDb29yZCA9IFs1LDRdXG4gICAgbGV0IGRvbUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlZnRHcmlkJylcbiAgICBsZXQgcGxheWVyTmFtZSA9ICdwbGF5ZXInXG4gICAgY29uc3QgY2FycmllciA9IHNoaXBGYWN0b3J5KDUsICdjYXJyaWVyJywgMClcbiAgICBjb25zdCBiYXR0bGVzaGlwID0gc2hpcEZhY3RvcnkoNCwgJ2JhdHRsZXNoaXAnLCAwKVxuICAgIGNvbnN0IGRlc3Ryb3llciA9IHNoaXBGYWN0b3J5KDMsICdkZXN0cm95ZXInLCAwKVxuICAgIGNvbnN0IHN1Ym1hcmluZSA9IHNoaXBGYWN0b3J5KDMsICdzdWJtYXJpbmUnLCAwKVxuICAgIGNvbnN0IHBhdHJvbGJvYXQgPSBzaGlwRmFjdG9yeSgyLCAncGF0cm9sYm9hdCcsIDApXG4gICAgY29uc3QgcGxheWVyR2FtZUJvYXJkID0gZ2FtZUJvYXJkKClcbiAgICBwbGF5ZXJHYW1lQm9hcmQuY3JlYXRlQm9hcmQoZG9tQm9hcmQscGxheWVyTmFtZSlcbiAgICBwbGF5ZXJHYW1lQm9hcmQucGxhY2VTaGlwKGNhcnJpZXIsIFs1LDRdKVxuICAgIHBsYXllckdhbWVCb2FyZC5wbGFjZVNoaXAoYmF0dGxlc2hpcCwgWzIsNl0pXG4gICAgcGxheWVyR2FtZUJvYXJkLnBsYWNlU2hpcChkZXN0cm95ZXIsIFsxLDVdKVxuICAgIHBsYXllckdhbWVCb2FyZC5wbGFjZVNoaXAoc3VibWFyaW5lLCBbNCw0XSlcbiAgICBwbGF5ZXJHYW1lQm9hcmQucGxhY2VTaGlwKHBhdHJvbGJvYXQsIFs2LDRdKVxuICAgIGNvbnN0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGRlc3Ryb3llciwgc3VibWFyaW5lLCBwYXRyb2xib2F0XTtcbiAgICBjb25zdCBzaGlwSGl0Ym94ID0gW11cbiAgICBsZXQgY3B1QXR0YWNrQ29vcmQgPSBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOSksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOSldXG4gICAgbGV0IGF0dGFja2VkQ29vcmQgPSBwbGF5ZXJHYW1lQm9hcmQucmVjZWl2ZUF0dGFjayh0ZXN0Q29vcmQsIHNoaXBzKVxuICAgIHNoaXBzW2F0dGFja2VkQ29vcmRdLmdvdEhpdCgpXG4gICAgXG5cbn1cbmZ1bmN0aW9uIGNwdSgpe1xuICAgIGNvbnN0IGRvbUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0R3JpZCcpXG4gICAgbGV0IHBsYXllck5hbWUgPSAnY3B1J1xuICAgIGNvbnN0IGNhcnJpZXIgPSBzaGlwRmFjdG9yeSg1LCAnY2FycmllcicpXG4gICAgY29uc3QgYmF0dGxlc2hpcCA9IHNoaXBGYWN0b3J5KDQsICdiYXR0bGVzaGlwJylcbiAgICBjb25zdCBkZXN0cm95ZXIgPSBzaGlwRmFjdG9yeSgzLCAnZGVzdHJveWVyJylcbiAgICBjb25zdCBzdWJtYXJpbmUgPSBzaGlwRmFjdG9yeSgzLCAnc3VibWFyaW5lJylcbiAgICBjb25zdCBwYXRyb2xib2F0ID0gc2hpcEZhY3RvcnkoMiwgJ3BhdHJvbGJvYXQnKVxuICAgIGNvbnN0IGNwdUdhbWVCb2FyZCA9IGdhbWVCb2FyZCgpXG4gICAgY3B1R2FtZUJvYXJkLmNyZWF0ZUJvYXJkKGRvbUJvYXJkLCBwbGF5ZXJOYW1lKVxuICAgIGNwdUdhbWVCb2FyZC5wbGFjZVNoaXAoY2FycmllciwgWzUsNF0pXG4gICAgY3B1R2FtZUJvYXJkLnBsYWNlU2hpcChiYXR0bGVzaGlwLCBbMiw2XSlcbiAgICBjcHVHYW1lQm9hcmQucGxhY2VTaGlwKGRlc3Ryb3llciwgWzEsNV0pXG4gICAgY3B1R2FtZUJvYXJkLnBsYWNlU2hpcChzdWJtYXJpbmUsIFs0LDRdKVxuICAgIGNwdUdhbWVCb2FyZC5wbGFjZVNoaXAocGF0cm9sYm9hdCwgWzUsNF0pXG4gICAgXG4gICBcblxufVxuKi9cbiJdLCJuYW1lcyI6WyJwbGF5ZXJET00iLCJlbmVteURPTSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhdHRhY2tlZCIsImNhcnJpZXJIaXRib3giLCJiYXR0bGVzaGlwSGl0Ym94IiwiZGVzdHJveWVySGl0Ym94Iiwic3VibWFyaW5lSGl0Ym94IiwicGF0cm9sYm9hdEhpdGJveCIsImNyZWF0ZUJvYXJkIiwicGxheWVyTmFtZSIsImxlZnRHcmlkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmlnaHRHcmlkIiwiY29vcmRzIiwieEF4aXMiLCJmb3JFYWNoIiwiZWwiLCJpIiwibGVuZ3RoIiwicHVzaCIsImUiLCJjZWxsIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwicGxhY2VTaGlwIiwic2hpcCIsImNvb3JkIiwibmFtZSIsImhpdGJveEtleSIsIngiLCJ5IiwidGhpcyIsInJlY2VpdmVBdHRhY2siLCJzaGlwSGl0Ym94ZXMiLCJvdmVyYWxsSGl0Ym94ZXMiLCJyZWR1Y2UiLCJhY2MiLCJhcnIiLCJjb25jYXQiLCJjb25zb2xlIiwibG9nIiwiaXNIaXRib3giLCJoYiIsImFsbFNoaXBzU3VuayIsInNoaXBzIiwiZXZlcnkiLCJpc1N1bmsiLCJjb2xvciIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJoaXQiLCJnb3RIaXQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwic2hpcEZhY3RvcnkiLCJnYW1lQm9hcmQiLCJQbGF5ZXIiLCJjb25zdHJ1Y3RvciIsImJvYXJkIiwiZW5lbXlCb2FyZCIsImNhcnJpZXIiLCJjcmVhdGVDYXJyaWVyIiwiYmF0dGxlc2hpcCIsImNyZWF0ZUJhdHRsZXNoaXAiLCJkZXN0cm95ZXIiLCJjcmVhdGVEZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJjcmVhdGVTdWJtYXJpbmUiLCJwYXRyb2xib2F0IiwiY3JlYXRlUGF0cm9sYm9hdCIsInBsYXllckhpdGJveGVzIiwiZW5lbXkiLCJlbmVteUNhcnJpZXIiLCJlbmVteUJhdHRsZXNoaXAiLCJlbmVteURlc3Ryb3llciIsImVuZW15U3VibWFyaW5lIiwiZW5lbXlQYXRyb2xib2F0IiwiZW5lbXlTaGlwcyIsImVuZW15SGl0Ym94ZXMiLCJhdHRhY2siLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlubmVySFRNTCIsImNkIiwiY29udmVydEVuZW15SWRUb0Nvb3JkIiwiYXR0YWNrQ29vcmQiLCJzb21lIiwiZmluZEVuZW15QXR0YWNrZWRTaGlwIiwiY2hlY2tHYW1lT3ZlciIsInNldFRpbWVvdXQiLCJyY3ZDZCIsImNwdUF0dGFja0Nvb3JkIiwiZmluZFBsYXllckF0dGFja2VkU2hpcCIsImdlbiIsImdlbmVyYXRlQ29vcmQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZW5lcmF0ZVNoaXBDb29yZCIsInBhcnNlSW50IiwiaWQiLCJjaGFyQXQiLCJjb252ZXJ0UGxheWVySWRUb0Nvb3JkIiwiaW5kZXgiLCJwbGFjZVBsYXllclNoaXBzIiwibGVmdENvbW1hbmQiLCJwbGFjZUNhcnJpZXIiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInBsYWNlQmF0dGxlc2hpcCIsInBsYWNlRGVzdHJveWVyIiwicGxhY2VTdWJtYXJpbmUiLCJwbGFjZVBhdHJvbGJvYXQiLCJiZWdpbkFzc2F1bHQiLCJwbGFjZUNwdVNoaXBzIiwib2NjdXBpZWQiLCJvY2N1cGllZFRvdGFsIiwib2NjIiwibGVmdENlbGxzIiwicmlnaHRDZWxscyIsImFsZXJ0IiwiZ2FtZUxvb3AiLCJjcmVhdGVQbGF5ZXJCb2FyZCIsImNyZWF0ZUVuZW15Qm9hcmQiLCJwbGF5ZXJCb2FyZCIsInBsYXllciJdLCJzb3VyY2VSb290IjoiIn0=